{"version":3,"file":"index.js","sources":["../node_modules/warning/warning.js","../node_modules/@reach/utils/dist/utils.esm.js","../node_modules/@reach/auto-id/dist/auto-id.esm.js","../node_modules/style-inject/dist/style-inject.es.js","../node_modules/react-portal/es/utils.js","../node_modules/react-portal/es/Portal.js","../node_modules/react-portal/es/LegacyPortal.js","../node_modules/react-portal/es/PortalCompat.js","../node_modules/react-portal/es/PortalWithState.js","../node_modules/lodash/_baseClamp.js","../node_modules/lodash/_trimmedEndIndex.js","../node_modules/lodash/_baseTrim.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/clamp.js","../node_modules/nanoid/non-secure/index.js","../src/components/ContextMenu/ContextMenu.js","../src/context.js","../src/components/Draggable/Draggable.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/eq.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/memoize.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/toString.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/isLength.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/keys.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/get.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/identity.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/_createBaseEach.js","../node_modules/lodash/_baseEach.js","../node_modules/lodash/_baseMap.js","../node_modules/lodash/_baseSortBy.js","../node_modules/lodash/_compareAscending.js","../node_modules/lodash/_compareMultiple.js","../node_modules/lodash/_baseOrderBy.js","../node_modules/lodash/orderBy.js","../src/constants.js","../src/components/Stage/Stage.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-shape/src/curve/monotone.js","../src/connectionCalculator.js","../src/components/Checkbox/Checkbox.js","../src/components/TextInput/TextInput.js","../src/components/Select/Select.js","../src/components/Control/Control.js","../src/components/Connection/Connection.js","../src/hooks/usePrevious.js","../src/components/IoPorts/IoPorts.js","../src/components/Node/Node.js","../src/typeBuilders.js","../src/components/ColorPicker/ColorPicker.js","../src/components/Comment/Comment.js","../src/components/Toaster/Toaster.js","../src/components/Connections/Connections.js","../src/utilities.js","../src/nodesReducer.js","../src/commentsReducer.js","../src/toastsReducer.js","../src/stageReducer.js","../src/Cache.js","../src/RootEngine.js","../src/require-babel-polyfill.js","../src/LocalStorage.js","../src/LoopError.js","../src/WorkflowEngine.js","../src/index.js"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","import React, { isValidElement, cloneElement, createContext, useRef, useState, useCallback, useEffect, useMemo } from 'react';\nexport { default as warning } from 'warning';\n\n/* eslint-disable no-restricted-globals, eqeqeq  */\n/**\r\n * React currently throws a warning when using useLayoutEffect on the server.\r\n * To get around it, we can conditionally useEffect on the server (no-op) and\r\n * useLayoutEffect in the browser. We occasionally need useLayoutEffect to\r\n * ensure we don't get a render flash for certain operations, but we may also\r\n * need affected components to render on the server. One example is when setting\r\n * a component's descendants to retrieve their index values.\r\n *\r\n * Important to note that using this hook as an escape hatch will break the\r\n * eslint dependency warnings unless you rename the import to `useLayoutEffect`.\r\n * Use sparingly only when the effect won't effect the rendered HTML to avoid\r\n * any server/client mismatch.\r\n *\r\n * If a useLayoutEffect is needed and the result would create a mismatch, it's\r\n * likely that the component in question shouldn't be rendered on the server at\r\n * all, so a better approach would be to lazily render those in a parent\r\n * component after client-side hydration.\r\n *\r\n * TODO: We are calling useLayoutEffect in a couple of places that will likely\r\n * cause some issues for SSR users, whether the warning shows or not. Audit and\r\n * fix these.\r\n *\r\n * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\r\n * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js\r\n *\r\n * @param effect\r\n * @param deps\r\n */\n\nvar useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM() ? React.useLayoutEffect : React.useEffect;\nvar checkedPkgs = {};\n/**\r\n * When in dev mode, checks that styles for a given @reach package are loaded.\r\n *\r\n * @param packageName Name of the package to check.\r\n * @example checkStyles(\"dialog\") will check for styles for @reach/dialog\r\n */\n// @ts-ignore\n\nvar checkStyles = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  // In CJS files, process.env.NODE_ENV is stripped from our build, but we need\n  // it to prevent style checks from clogging up user logs while testing.\n  // This is a workaround until we can tweak the build a bit to accommodate.\n  var _ref = typeof process !== \"undefined\" ? process : {\n    env: {\n      NODE_ENV: \"development\"\n    }\n  },\n      env = _ref.env;\n\n  checkStyles = function checkStyles(packageName) {\n    // only check once per package\n    if (checkedPkgs[packageName]) return;\n    checkedPkgs[packageName] = true;\n\n    if (env.NODE_ENV !== \"test\" && parseInt(window.getComputedStyle(document.body).getPropertyValue(\"--reach-\" + packageName), 10) !== 1) {\n      console.warn(\"@reach/\" + packageName + \" styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\\n\\n    import \\\"@reach/\" + packageName + \"/styles.css\\\";\\n\\n  Otherwise you'll need to include them some other way:\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"node_modules/@reach/\" + packageName + \"/styles.css\\\" />\\n\\n  For more information visit https://ui.reach.tech/styling.\\n  \");\n    }\n  };\n}\n/**\r\n * Ponyfill for the global object in some environments.\r\n *\r\n * @link https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\r\n */\n\nvar ponyfillGlobal = typeof window != \"undefined\" && window.Math == Math ? window : typeof self != \"undefined\" && self.Math == Math ? self :\n/*#__PURE__*/\n// eslint-disable-next-line no-new-func\nFunction(\"return this\")();\n/**\r\n * Passes or assigns an arbitrary value to a ref function or object.\r\n *\r\n * @param ref\r\n * @param value\r\n */\n\nfunction assignRef(ref, value) {\n  if (ref == null) return;\n\n  if (isFunction(ref)) {\n    ref(value);\n  } else {\n    try {\n      ref.current = value;\n    } catch (error) {\n      throw new Error(\"Cannot assign value \\\"\" + value + \"\\\" to ref \\\"\" + ref + \"\\\"\");\n    }\n  }\n}\n/**\r\n * Checks true|\"true\" vs false|\"false\"\r\n *\r\n * @param value\r\n */\n\nfunction boolOrBoolString(value) {\n  return value === \"true\" ? true : isBoolean(value) ? value : false;\n}\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n}\n/**\r\n * Type-safe clone element\r\n *\r\n * @param element\r\n * @param props\r\n * @param children\r\n */\n\nfunction cloneValidElement(element, props) {\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  return isValidElement(element) ? cloneElement.apply(void 0, [element, props].concat(children)) : element;\n}\nfunction createNamedContext(name, defaultValue) {\n  var Ctx = createContext(defaultValue);\n  Ctx.displayName = name;\n  return Ctx;\n}\n/**\r\n * This is a hack for sure. The thing is, getting a component to intelligently\r\n * infer props based on a component or JSX string passed into an `as` prop is\r\n * kind of a huge pain. Getting it to work and satisfy the constraints of\r\n * `forwardRef` seems dang near impossible. To avoid needing to do this awkward\r\n * type song-and-dance every time we want to forward a ref into a component\r\n * that accepts an `as` prop, we abstract all of that mess to this function for\r\n * the time time being.\r\n */\n\nfunction forwardRefWithAs(render) {\n  return React.forwardRef(render);\n}\nfunction memoWithAs(Component, propsAreEqual) {\n  return React.memo(Component, propsAreEqual);\n}\n/**\r\n * Get the size of the working document minus the scrollbar offset.\r\n *\r\n * @param element\r\n */\n\nfunction getDocumentDimensions(element) {\n  if (!canUseDOM()) return {\n    width: 0,\n    height: 0\n  };\n  var doc = element ? getOwnerDocument(element) : document;\n  var win = element ? getOwnerWindow(element) : window;\n  return {\n    width: doc.documentElement.clientWidth || win.innerWidth,\n    height: doc.documentElement.clientHeight || win.innerHeight\n  };\n}\n/**\r\n * Get the scoll position of the global window object relative to a given node.\r\n *\r\n * @param element\r\n */\n\nfunction getScrollPosition(element) {\n  if (!canUseDOM()) return {\n    scrollX: 0,\n    scrollY: 0\n  };\n  var win = element ? getOwnerWindow(element) : window;\n  return {\n    scrollX: win.scrollX,\n    scrollY: win.scrollY\n  };\n}\n/**\r\n * Get a computed style value by property, backwards compatible with IE\r\n * @param element\r\n * @param styleProp\r\n */\n\nfunction getElementComputedStyle(element, styleProp) {\n  var y = null;\n  var doc = getOwnerDocument(element);\n\n  if (element.currentStyle) {\n    y = element.currentStyle[styleProp];\n  } else if (doc && doc.defaultView && isFunction(doc.defaultView.getComputedStyle)) {\n    y = doc.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);\n  }\n\n  return y;\n}\n/**\r\n * Get an element's owner document. Useful when components are used in iframes\r\n * or other environments like dev tools.\r\n *\r\n * @param element\r\n */\n\nfunction getOwnerDocument(element) {\n  return element && element.ownerDocument ? element.ownerDocument : canUseDOM() ? document : null;\n}\nfunction getOwnerWindow(element) {\n  var doc = element ? getOwnerDocument(element) : null;\n  return doc ? doc.defaultView || window : null;\n}\n/**\r\n * Get the scrollbar offset distance.\r\n *\r\n * TODO: Remove in 1.0 (we used this in public examples)\r\n */\n\nfunction getScrollbarOffset() {\n  try {\n    if (window.innerWidth > document.documentElement.clientWidth) {\n      return window.innerWidth - document.documentElement.clientWidth;\n    }\n  } catch (err) {}\n\n  return 0;\n}\n/**\r\n * Checks whether or not a value is a boolean.\r\n *\r\n * @param value\r\n */\n\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\n/**\r\n * Checks whether or not a value is a function.\r\n *\r\n * @param value\r\n */\n\nfunction isFunction(value) {\n  return !!(value && {}.toString.call(value) == \"[object Function]\");\n}\n/**\r\n * Checks whether or not a value is a number.\r\n *\r\n * @param value\r\n */\n\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\n/**\r\n * Detects right clicks\r\n *\r\n * @param nativeEvent\r\n */\n\nfunction isRightClick(nativeEvent) {\n  return nativeEvent.which === 3 || nativeEvent.button === 2;\n}\n/**\r\n * Checks whether or not a value is a string.\r\n *\r\n * @param value\r\n */\n\nfunction isString(value) {\n  return typeof value === \"string\";\n}\n/**\r\n * Joins strings to format IDs for compound components.\r\n *\r\n * @param args\r\n */\n\nfunction makeId() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args.filter(function (val) {\n    return val != null;\n  }).join(\"--\");\n}\n/**\r\n * No-op function.\r\n */\n\nfunction noop() {}\n/**\r\n * Convert our state strings for HTML data attributes.\r\n * No need for a fancy kebab-caser here, we know what our state strings are!\r\n *\r\n * @param state\r\n */\n\nfunction stateToAttributeString(state) {\n  return String(state).replace(/([\\s_]+)/g, \"-\").toLowerCase();\n}\n/**\r\n * Check if a component is controlled or uncontrolled and return the correct\r\n * state value and setter accordingly. If the component state is controlled by\r\n * the app, the setter is a noop.\r\n *\r\n * @param controlledValue\r\n * @param defaultValue\r\n */\n\nfunction useControlledState(controlledValue, defaultValue) {\n  var controlledRef = useRef(controlledValue != null);\n\n  var _useState = useState(defaultValue),\n      valueState = _useState[0],\n      setValue = _useState[1];\n\n  var set = useCallback(function (n) {\n    if (!controlledRef.current) {\n      setValue(n);\n    }\n  }, []);\n  return [controlledRef.current ? controlledValue : valueState, set];\n}\n/**\r\n * Logs a warning in dev mode when a component switches from controlled to\r\n * uncontrolled, or vice versa\r\n *\r\n * A single prop should typically be used to determine whether or not a\r\n * component is controlled or not.\r\n *\r\n * @param controlledValue\r\n * @param controlledPropName\r\n * @param componentName\r\n */\n\nvar useControlledSwitchWarning = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  useControlledSwitchWarning = function useControlledSwitchWarning(controlledValue, controlledPropName, componentName) {\n    var controlledRef = useRef(controlledValue != null);\n    var nameCache = useRef({\n      componentName: componentName,\n      controlledPropName: controlledPropName\n    });\n    useEffect(function () {\n      nameCache.current = {\n        componentName: componentName,\n        controlledPropName: controlledPropName\n      };\n    }, [componentName, controlledPropName]);\n    useEffect(function () {\n      var wasControlled = controlledRef.current;\n      var _nameCache$current = nameCache.current,\n          componentName = _nameCache$current.componentName,\n          controlledPropName = _nameCache$current.controlledPropName;\n      var isControlled = controlledValue != null;\n\n      if (wasControlled !== isControlled) {\n        console.error(\"A component is changing an \" + (wasControlled ? \"\" : \"un\") + \"controlled `\" + controlledPropName + \"` state of \" + componentName + \" to be \" + (wasControlled ? \"un\" : \"\") + \"controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled \" + componentName + \" element for the lifetime of the component.\\nMore info: https://fb.me/react-controlled-components\");\n      }\n    }, [controlledValue]);\n  };\n}\nvar useCheckStyles = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  useCheckStyles = function useCheckStyles(pkg) {\n    var name = useRef(pkg);\n    useEffect(function () {\n      return void (name.current = pkg);\n    }, [pkg]);\n    useEffect(function () {\n      return checkStyles(name.current);\n    }, []);\n  };\n}\n/**\r\n * React hook for creating a value exactly once.\r\n * @see https://github.com/Andarist/use-constant\r\n */\n\nfunction useConstant(fn) {\n  var ref = React.useRef();\n\n  if (!ref.current) {\n    ref.current = {\n      v: fn()\n    };\n  }\n\n  return ref.current.v;\n}\n/**\r\n * @param callback\r\n */\n\nfunction useEventCallback(callback) {\n  var ref = useRef(callback);\n  useIsomorphicLayoutEffect(function () {\n    ref.current = callback;\n  });\n  return useCallback(function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return ref.current.apply(ref, [event].concat(args));\n  }, []);\n}\n/**\r\n * @param callback\r\n */\n\nfunction useCallbackProp(callback) {\n  var ref = useRef(callback);\n  useEffect(function () {\n    ref.current = callback;\n  });\n  return useCallback(function () {\n    return ref.current && ref.current.apply(ref, arguments);\n  }, []);\n}\n/**\r\n * Adds a DOM event listener\r\n *\r\n * @param eventName\r\n * @param listener\r\n * @param element\r\n */\n\nfunction useEventListener(eventName, listener, element) {\n  if (element === void 0) {\n    element = window;\n  }\n\n  var savedHandler = useRef(listener);\n  useEffect(function () {\n    savedHandler.current = listener;\n  }, [listener]);\n  useEffect(function () {\n    var isSupported = element && element.addEventListener;\n\n    if (!isSupported) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"Event listener not supported on the element provided\");\n      }\n\n      return;\n    }\n\n    function eventListener(event) {\n      savedHandler.current(event);\n    }\n\n    element.addEventListener(eventName, eventListener);\n    return function () {\n      element.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element]);\n}\n/**\r\n * Detect when focus changes in our document.\r\n *\r\n * @param handleChange\r\n * @param when\r\n * @param ownerDocument\r\n */\n\nfunction useFocusChange(handleChange, when, ownerDocument) {\n  if (handleChange === void 0) {\n    handleChange = console.log;\n  }\n\n  if (when === void 0) {\n    when = \"focus\";\n  }\n\n  if (ownerDocument === void 0) {\n    ownerDocument = document;\n  }\n\n  var lastActiveElement = useRef(ownerDocument.activeElement);\n  useEffect(function () {\n    lastActiveElement.current = ownerDocument.activeElement;\n\n    function onChange(event) {\n      if (lastActiveElement.current !== ownerDocument.activeElement) {\n        handleChange(ownerDocument.activeElement, lastActiveElement.current, event);\n        lastActiveElement.current = ownerDocument.activeElement;\n      }\n    }\n\n    ownerDocument.addEventListener(when, onChange, true);\n    return function () {\n      ownerDocument.removeEventListener(when, onChange);\n    };\n  }, [when, handleChange, ownerDocument]);\n}\n/**\r\n * Passes or assigns a value to multiple refs (typically a DOM node). Useful for\r\n * dealing with components that need an explicit ref for DOM calculations but\r\n * also forwards refs assigned by an app.\r\n *\r\n * @param refs Refs to fork\r\n */\n\nfunction useForkedRef() {\n  for (var _len4 = arguments.length, refs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    refs[_key4] = arguments[_key4];\n  }\n\n  return useMemo(function () {\n    if (refs.every(function (ref) {\n      return ref == null;\n    })) {\n      return null;\n    }\n\n    return function (node) {\n      refs.forEach(function (ref) {\n        assignRef(ref, node);\n      });\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [].concat(refs));\n}\n/**\r\n * Returns the previous value of a reference after a component update.\r\n *\r\n * @param value\r\n */\n\nfunction usePrevious(value) {\n  var ref = useRef(null);\n  useEffect(function () {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n/**\r\n * Call an effect after a component update, skipping the initial mount.\r\n *\r\n * @param effect Effect to call\r\n * @param deps Effect dependency list\r\n */\n\nfunction useUpdateEffect(effect, deps) {\n  var mounted = useRef(false);\n  useEffect(function () {\n    if (mounted.current) {\n      effect();\n    } else {\n      mounted.current = true;\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, deps);\n}\n/**\r\n * Just a lil state logger\r\n *\r\n * @param state\r\n * @param DEBUG\r\n */\n\nvar useStateLogger = noop;\n\nif (process.env.NODE_ENV !== \"production\") {\n  useStateLogger = function useStateLogger(state, DEBUG) {\n    if (DEBUG === void 0) {\n      DEBUG = false;\n    }\n\n    var debugRef = useRef(DEBUG);\n    useEffect(function () {\n      debugRef.current = DEBUG;\n    }, [DEBUG]);\n    useEffect(function () {\n      if (debugRef.current) {\n        console.group(\"State Updated\");\n        console.log(\"%c\" + state, \"font-weight: normal; font-size: 120%; font-style: italic;\");\n        console.groupEnd();\n      }\n    }, [state]);\n  };\n}\n/**\r\n * Wraps a lib-defined event handler and a user-defined event handler, returning\r\n * a single handler that allows a user to prevent lib-defined handlers from\r\n * firing.\r\n *\r\n * @param theirHandler User-supplied event handler\r\n * @param ourHandler Library-supplied event handler\r\n */\n\nfunction wrapEvent(theirHandler, ourHandler) {\n  return function (event) {\n    theirHandler && theirHandler(event);\n\n    if (!event.defaultPrevented) {\n      return ourHandler(event);\n    }\n  };\n}\n\nexport { assignRef, boolOrBoolString, canUseDOM, checkStyles, cloneValidElement, createNamedContext, forwardRefWithAs, getDocumentDimensions, getElementComputedStyle, getOwnerDocument, getOwnerWindow, getScrollPosition, getScrollbarOffset, isBoolean, isFunction, isNumber, isRightClick, isString, makeId, memoWithAs, noop, ponyfillGlobal, stateToAttributeString, useCallbackProp, useCheckStyles, useConstant, useControlledState, useControlledSwitchWarning, useEventCallback, useEventListener, useFocusChange, useForkedRef, useIsomorphicLayoutEffect, usePrevious, useStateLogger, useUpdateEffect, wrapEvent };\n//# sourceMappingURL=utils.esm.js.map\n","import { useState, useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '@reach/utils';\n\n/*\r\n * Welcome to @reach/auto-id!\r\n\n * Let's see if we can make sense of why this hook exists and its\r\n * implementation.\r\n *\r\n * Some background:\r\n *   1. Accessibiliy APIs rely heavily on element IDs\r\n *   2. Requiring developers to put IDs on every element in Reach UI is both\r\n *      cumbersome and error-prone\r\n *   3. With a component model, we can generate IDs for them!\r\n *\r\n * Solution 1: Generate random IDs.\r\n *\r\n * This works great as long as you don't server render your app. When React (in\r\n * the client) tries to reuse the markup from the server, the IDs won't match\r\n * and React will then recreate the entire DOM tree.\r\n *\r\n * Solution 2: Increment an integer\r\n *\r\n * This sounds great. Since we're rendering the exact same tree on the server\r\n * and client, we can increment a counter and get a deterministic result between\r\n * client and server. Also, JS integers can go up to nine-quadrillion. I'm\r\n * pretty sure the tab will be closed before an app never needs\r\n * 10 quadrillion IDs!\r\n *\r\n * Problem solved, right?\r\n *\r\n * Ah, but there's a catch! React's concurrent rendering makes this approach\r\n * non-deterministic. While the client and server will end up with the same\r\n * elements in the end, depending on suspense boundaries (and possibly some user\r\n * input during the initial render) the incrementing integers won't always match\r\n * up.\r\n *\r\n * Solution 3: Don't use IDs at all on the server; patch after first render.\r\n *\r\n * What we've done here is solution 2 with some tricks. With this approach, the\r\n * ID returned is an empty string on the first render. This way the server and\r\n * client have the same markup no matter how wild the concurrent rendering may\r\n * have gotten.\r\n *\r\n * After the render, we patch up the components with an incremented ID. This\r\n * causes a double render on any components with `useId`. Shouldn't be a problem\r\n * since the components using this hook should be small, and we're only updating\r\n * the ID attribute on the DOM, nothing big is happening.\r\n *\r\n * It doesn't have to be an incremented number, though--we could do generate\r\n * random strings instead, but incrementing a number is probably the cheapest\r\n * thing we can do.\r\n *\r\n * Additionally, we only do this patchup on the very first client render ever.\r\n * Any calls to `useId` that happen dynamically in the client will be\r\n * populated immediately with a value. So, we only get the double render after\r\n * server hydration and never again, SO BACK OFF ALRIGHT?\r\n */\nvar serverHandoffComplete = false;\nvar id = 0;\n\nvar genId = function genId() {\n  return ++id;\n};\n/**\r\n * useId\r\n *\r\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\r\n *\r\n * Note: The returned ID will initially be `null` and will update after a\r\n * component mounts. Users may need to supply their own ID if they need\r\n * consistent values for SSR.\r\n *\r\n * @see Docs https://reacttraining.com/reach-ui/auto-id\r\n */\n\n\nvar useId = function useId(idFromProps) {\n  /*\r\n   * If this instance isn't part of the initial render, we don't have to do the\r\n   * double render/patch-up dance. We can just generate the ID and return it.\r\n   */\n  var initialId = idFromProps || (serverHandoffComplete ? genId() : null);\n\n  var _useState = useState(initialId),\n      id = _useState[0],\n      setId = _useState[1];\n\n  useIsomorphicLayoutEffect(function () {\n    if (id === null) {\n      /*\r\n       * Patch the ID after render. We do this in `useLayoutEffect` to avoid any\r\n       * rendering flicker, though it'll make the first render slower (unlikely\r\n       * to matter, but you're welcome to measure your app and let us know if\r\n       * it's a problem).\r\n       */\n      setId(genId());\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  useEffect(function () {\n    if (serverHandoffComplete === false) {\n      /*\r\n       * Flag all future uses of `useId` to skip the update dance. This is in\r\n       * `useEffect` because it goes after `useLayoutEffect`, ensuring we don't\r\n       * accidentally bail out of the patch-up dance prematurely.\r\n       */\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id != null ? String(id) : undefined;\n};\n\nexport { useId };\n//# sourceMappingURL=auto-id.esm.js.map\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { canUseDOM } from './utils';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!canUseDOM) {\n        return null;\n      }\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n      return ReactDOM.createPortal(this.props.children, this.props.node || this.defaultNode);\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};\n\nexport default Portal;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// This file is a fallback for a consumer who is not yet on React 16\n// as createPortal was introduced in React 16\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal = function (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(props) {\n      this.renderPortal();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      ReactDOM.unmountComponentAtNode(this.defaultNode || this.props.node);\n      if (this.defaultNode) {\n        document.body.removeChild(this.defaultNode);\n      }\n      this.defaultNode = null;\n      this.portal = null;\n    }\n  }, {\n    key: 'renderPortal',\n    value: function renderPortal(props) {\n      if (!this.props.node && !this.defaultNode) {\n        this.defaultNode = document.createElement('div');\n        document.body.appendChild(this.defaultNode);\n      }\n\n      var children = this.props.children;\n      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b\n      if (typeof this.props.children.type === 'function') {\n        children = React.cloneElement(this.props.children);\n      }\n\n      this.portal = ReactDOM.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nexport default Portal;\n\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  node: PropTypes.any\n};","import ReactDOM from 'react-dom';\n\nimport Portalv4 from './Portal';\nimport LegacyPortal from './LegacyPortal';\n\nvar Portal = void 0;\n\nif (ReactDOM.createPortal) {\n  Portal = Portalv4;\n} else {\n  Portal = LegacyPortal;\n}\n\nexport default Portal;","var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Portal from './PortalCompat';\n\nvar KEYCODES = {\n  ESCAPE: 27\n};\n\nvar PortalWithState = function (_React$Component) {\n  _inherits(PortalWithState, _React$Component);\n\n  function PortalWithState(props) {\n    _classCallCheck(this, PortalWithState);\n\n    var _this = _possibleConstructorReturn(this, (PortalWithState.__proto__ || Object.getPrototypeOf(PortalWithState)).call(this, props));\n\n    _this.portalNode = null;\n    _this.state = { active: !!props.defaultOpen };\n    _this.openPortal = _this.openPortal.bind(_this);\n    _this.closePortal = _this.closePortal.bind(_this);\n    _this.wrapWithPortal = _this.wrapWithPortal.bind(_this);\n    _this.handleOutsideMouseClick = _this.handleOutsideMouseClick.bind(_this);\n    _this.handleKeydown = _this.handleKeydown.bind(_this);\n    return _this;\n  }\n\n  _createClass(PortalWithState, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.closeOnEsc) {\n        document.addEventListener('keydown', this.handleKeydown);\n      }\n      if (this.props.closeOnOutsideClick) {\n        document.addEventListener('click', this.handleOutsideMouseClick);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.closeOnEsc) {\n        document.removeEventListener('keydown', this.handleKeydown);\n      }\n      if (this.props.closeOnOutsideClick) {\n        document.removeEventListener('click', this.handleOutsideMouseClick);\n      }\n    }\n  }, {\n    key: 'openPortal',\n    value: function openPortal(e) {\n      if (this.state.active) {\n        return;\n      }\n      if (e && e.nativeEvent) {\n        e.nativeEvent.stopImmediatePropagation();\n      }\n      this.setState({ active: true }, this.props.onOpen);\n    }\n  }, {\n    key: 'closePortal',\n    value: function closePortal() {\n      if (!this.state.active) {\n        return;\n      }\n      this.setState({ active: false }, this.props.onClose);\n    }\n  }, {\n    key: 'wrapWithPortal',\n    value: function wrapWithPortal(children) {\n      var _this2 = this;\n\n      if (!this.state.active) {\n        return null;\n      }\n      return React.createElement(\n        Portal,\n        {\n          node: this.props.node,\n          key: 'react-portal',\n          ref: function ref(portalNode) {\n            return _this2.portalNode = portalNode;\n          }\n        },\n        children\n      );\n    }\n  }, {\n    key: 'handleOutsideMouseClick',\n    value: function handleOutsideMouseClick(e) {\n      if (!this.state.active) {\n        return;\n      }\n      var root = this.portalNode && (this.portalNode.props.node || this.portalNode.defaultNode);\n      if (!root || root.contains(e.target) || e.button && e.button !== 0) {\n        return;\n      }\n      this.closePortal();\n    }\n  }, {\n    key: 'handleKeydown',\n    value: function handleKeydown(e) {\n      if (e.keyCode === KEYCODES.ESCAPE && this.state.active) {\n        this.closePortal();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return this.props.children({\n        openPortal: this.openPortal,\n        closePortal: this.closePortal,\n        portal: this.wrapWithPortal,\n        isOpen: this.state.active\n      });\n    }\n  }]);\n\n  return PortalWithState;\n}(React.Component);\n\nPortalWithState.propTypes = {\n  children: PropTypes.func.isRequired,\n  defaultOpen: PropTypes.bool,\n  node: PropTypes.any,\n  closeOnEsc: PropTypes.bool,\n  closeOnOutsideClick: PropTypes.bool,\n  onOpen: PropTypes.func,\n  onClose: PropTypes.func\n};\n\nPortalWithState.defaultProps = {\n  onOpen: function onOpen() {},\n  onClose: function onClose() {}\n};\n\nexport default PortalWithState;","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nlet nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\nexport { nanoid, customAlphabet }\n","import React from \"react\";\nimport styles from \"./ContextMenu.css\";\nimport clamp from \"lodash/clamp\";\nimport { nanoid }from \"nanoid/non-secure/index\";\n\nconst ContextMenu = ({\n  x,\n  y,\n  options = [],\n  onRequestClose,\n  onOptionSelected,\n  label,\n  hideHeader,\n  hideFilter,\n  emptyText\n}) => {\n  const menuWrapper = React.useRef();\n  const menuOptionsWrapper = React.useRef();\n  const filterInput = React.useRef();\n  const [filter, setFilter] = React.useState(\"\");\n  const [menuWidth, setMenuWidth] = React.useState(0);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const menuId = React.useRef(nanoid(10));\n\n  const handleOptionSelected = option => {\n    onOptionSelected(option);\n    onRequestClose();\n  };\n\n  const testClickOutside = React.useCallback(\n    e => {\n      if (menuWrapper.current && !menuWrapper.current.contains(e.target)) {\n        onRequestClose();\n        document.removeEventListener(\"click\", testClickOutside, { capture: true });\n        document.removeEventListener(\"contextmenu\", testClickOutside, { capture: true });\n      }\n    },\n    [menuWrapper, onRequestClose]\n  );\n\n  const testEscape = React.useCallback(\n    e => {\n      if (e.keyCode === 27) {\n        onRequestClose();\n        document.removeEventListener(\"keydown\", testEscape, { capture: true });\n      }\n    },\n    [onRequestClose]\n  );\n\n  React.useEffect(() => {\n    if (filterInput.current) {\n      filterInput.current.focus();\n    }\n    setMenuWidth(menuWrapper.current.getBoundingClientRect().width);\n    document.addEventListener(\"keydown\", testEscape, { capture: true });\n    document.addEventListener(\"click\", testClickOutside, { capture: true });\n    document.addEventListener(\"contextmenu\", testClickOutside, { capture: true });\n    return () => {\n      document.removeEventListener(\"click\", testClickOutside, { capture: true });\n      document.removeEventListener(\"contextmenu\", testClickOutside, { capture: true });\n      document.removeEventListener(\"keydown\", testEscape, { capture: true });\n    };\n  }, [testClickOutside, testEscape]);\n\n  const filteredOptions = React.useMemo(() => {\n    if (!filter) return options;\n    const lowerFilter = filter.toLowerCase();\n    return options.filter(opt => opt.label.toLowerCase().includes(lowerFilter));\n  }, [filter, options]);\n\n  const handleFilterChange = e => {\n    const value = e.target.value;\n    setFilter(value);\n    setSelectedIndex(0);\n  };\n\n  const handleKeyDown = e => {\n    // Up pressed\n    if (e.which === 38) {\n      e.preventDefault();\n      if (selectedIndex === null) {\n        setSelectedIndex(0);\n      } else if (selectedIndex > 0) {\n        setSelectedIndex(i => i - 1);\n      }\n    }\n    // Down pressed\n    if (e.which === 40) {\n      e.preventDefault();\n      if (selectedIndex === null) {\n        setSelectedIndex(0);\n      } else if (selectedIndex < filteredOptions.length - 1) {\n        setSelectedIndex(i => i + 1);\n      }\n    }\n    // Enter pressed\n    if (e.which === 13 && selectedIndex !== null) {\n      const option = filteredOptions[selectedIndex];\n      if (option) {\n        handleOptionSelected(option);\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    if (hideFilter || hideHeader) {\n      menuWrapper.current.focus();\n    }\n  }, [hideFilter, hideHeader]);\n\n  React.useEffect(() => {\n    const menuOption = document.getElementById(\n      `${menuId.current}-${selectedIndex}`\n    );\n    if (menuOption) {\n      const menuRect = menuOptionsWrapper.current.getBoundingClientRect();\n      const optionRect = menuOption.getBoundingClientRect();\n      if (\n        optionRect.y + optionRect.height > menuRect.y + menuRect.height ||\n        optionRect.y < menuRect.y\n      ) {\n        menuOption.scrollIntoView({ block: \"nearest\" });\n      }\n    }\n  }, [selectedIndex]);\n\n  return (\n    <div\n      data-flume-component=\"ctx-menu\"\n      className={styles.menuWrapper}\n      onMouseDown={e => e.stopPropagation()}\n      onKeyDown={handleKeyDown}\n      style={{\n        left: x,\n        top: y,\n        width: filter ? menuWidth : \"auto\"\n      }}\n      ref={menuWrapper}\n      tabIndex={0}\n      role=\"menu\"\n      aria-activedescendant={`${menuId.current}-${selectedIndex}`}\n    >\n      {!hideHeader && (label ? true : !!options.length) ? (\n        <div className={styles.menuHeader} data-flume-component=\"ctx-menu-header\">\n          <label className={styles.menuLabel} data-flume-component=\"ctx-menu-title\">{label}</label>\n          {!hideFilter && options.length ? (\n            <input\n              data-flume-component=\"ctx-menu-input\"\n              type=\"text\"\n              placeholder=\"Filter options\"\n              value={filter}\n              onChange={handleFilterChange}\n              className={styles.menuFilter}\n              autoFocus\n              ref={filterInput}\n            />\n          ) : null}\n        </div>\n      ) : null}\n      <div\n        data-flume-component=\"ctx-menu-list\"\n        className={styles.optionsWrapper}\n        role=\"menu\"\n        ref={menuOptionsWrapper}\n        style={{ maxHeight: clamp(window.innerHeight - y - 70, 10, 300) }}\n      >\n        {filteredOptions.map((option, i) => (\n          <ContextOption\n            menuId={menuId.current}\n            selected={selectedIndex === i}\n            onClick={() => handleOptionSelected(option)}\n            onMouseEnter={() => setSelectedIndex(null)}\n            index={i}\n            key={option.value + i}\n          >\n            <label>{option.label}</label>\n            {option.description ? <p>{option.description}</p> : null}\n          </ContextOption>\n        ))}\n        {!options.length ? (\n          <span data-flume-component=\"ctx-menu-empty\" className={styles.emptyText}>{emptyText}</span>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nconst ContextOption = ({\n  menuId,\n  index,\n  children,\n  onClick,\n  selected,\n  onMouseEnter\n}) => {\n  return (\n    <div\n      data-flume-component=\"ctx-menu-option\"\n      className={styles.option}\n      role=\"menuitem\"\n      onClick={onClick}\n      onMouseEnter={onMouseEnter}\n      data-selected={selected}\n      id={`${menuId}-${index}`}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default ContextMenu;\n","import React from 'react'\n\nexport const NodeTypesContext = React.createContext()\nexport const PortTypesContext = React.createContext()\nexport const NodeDispatchContext = React.createContext()\nexport const ConnectionRecalculateContext = React.createContext()\nexport const ContextContext = React.createContext()\nexport const StageContext = React.createContext()\nexport const CacheContext = React.createContext()\nexport const RecalculateStageRectContext = React.createContext()\nexport const EditorIdContext = React.createContext()\n","import React from \"react\";\n\nexport default ({\n  children,\n  stageState,\n  stageRect,\n  onDragDelayStart,\n  onDragStart,\n  onDrag,\n  onDragEnd,\n  onMouseDown,\n  onTouchStart,\n  disabled,\n  delay = 6,\n  innerRef,\n  ...rest\n}) => {\n  const startCoordinates = React.useRef(null);\n  const offset = React.useRef();\n  const wrapper = React.useRef();\n\n  const byScale = value => (1 / stageState.scale) * value;\n\n  const getScaledCoordinates = e => {\n    const x =\n      byScale(\n        e.clientX -\n          (stageRect ? stageRect.current.left : 0) -\n          offset.current.x -\n          (stageRect ? stageRect.current.width : 0) / 2\n      ) + byScale(stageState.translate.x);\n    const y =\n      byScale(\n        e.clientY -\n          (stageRect ? stageRect.current.top : 0) -\n          offset.current.y -\n          (stageRect ? stageRect.current.height : 0) / 2\n      ) + byScale(stageState.translate.y);\n    return { x, y };\n  };\n\n  const updateCoordinates = e => {\n    const coordinates = getScaledCoordinates(e);\n    if (onDrag) {\n      onDrag(coordinates, e);\n    }\n  };\n\n  const stopDrag = e => {\n    const coordinates = getScaledCoordinates(e);\n    if (onDragEnd) {\n      onDragEnd(e, coordinates);\n    }\n    window.removeEventListener(\"mouseup\", stopDrag);\n    window.removeEventListener(\"mousemove\", updateCoordinates);\n  };\n\n  const startDrag = e => {\n    if (onDragStart) {\n      onDragStart(e);\n    }\n    const nodeRect = wrapper.current.getBoundingClientRect();\n    offset.current = {\n      x: startCoordinates.current.x - nodeRect.left,\n      y: startCoordinates.current.y - nodeRect.top\n    };\n    window.addEventListener(\"mouseup\", stopDrag);\n    window.addEventListener(\"mousemove\", updateCoordinates);\n  };\n\n  const checkDragDelay = e => {\n    let x;\n    let y;\n    if (\"ontouchstart\" in window && e.touches) {\n      x = e.touches[0].clientX;\n      y = e.touches[0].clientY;\n    } else {\n      e.preventDefault();\n      x = e.clientX;\n      y = e.clientY;\n    }\n    let a = Math.abs(startCoordinates.current.x - x);\n    let b = Math.abs(startCoordinates.current.y - y);\n    let distance = Math.round(Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2)));\n    let dragDistance = delay;\n    if (distance >= dragDistance) {\n      startDrag(e);\n      endDragDelay();\n    }\n  };\n\n  const endDragDelay = () => {\n    document.removeEventListener(\"mouseup\", endDragDelay);\n    document.removeEventListener(\"mousemove\", checkDragDelay);\n    startCoordinates.current = null;\n  };\n\n  const startDragDelay = e => {\n    if (onDragDelayStart) {\n      onDragDelayStart(e);\n    }\n    e.stopPropagation();\n    let x;\n    let y;\n    if (\"ontouchstart\" in window && e.touches) {\n      x = e.touches[0].clientX;\n      y = e.touches[0].clientY;\n    } else {\n      e.preventDefault();\n      x = e.clientX;\n      y = e.clientY;\n    }\n    startCoordinates.current = { x, y };\n    document.addEventListener(\"mouseup\", endDragDelay);\n    document.addEventListener(\"mousemove\", checkDragDelay);\n  };\n\n  return (\n    <div\n      onMouseDown={e => {\n        if (!disabled) {\n          startDragDelay(e);\n        }\n        if (onMouseDown) {\n          onMouseDown(e);\n        }\n      }}\n      onTouchStart={e => {\n        if (!disabled) {\n          startDragDelay(e);\n        }\n        if (onTouchStart) {\n          onTouchStart(e);\n        }\n      }}\n      onDragStart={e => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n      ref={ref => {\n        wrapper.current = ref;\n        if (innerRef) {\n          innerRef.current = ref;\n        }\n      }}\n      {...rest}\n    >\n      {children}\n    </div>\n  );\n};\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var arrayMap = require('./_arrayMap'),\n    baseGet = require('./_baseGet'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","export const STAGE_ID = '__node_editor_stage__'\nexport const DRAG_CONNECTION_ID = '__node_editor_drag_connection__'\nexport const CONNECTIONS_ID = '__node_editor_connections__'\n","import React from \"react\";\nimport styles from \"./Stage.css\";\nimport { Portal } from \"react-portal\";\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\nimport { NodeTypesContext, NodeDispatchContext } from \"../../context\";\nimport Draggable from \"../Draggable/Draggable\";\nimport orderBy from \"lodash/orderBy\";\nimport clamp from \"lodash/clamp\";\nimport { STAGE_ID } from '../../constants'\n\nconst Stage = ({\n  scale,\n  translate,\n  editorId,\n  dispatchStageState,\n  children,\n  outerStageChildren,\n  numNodes,\n  stageRef,\n  spaceToPan,\n  dispatchComments,\n  disableComments,\n  disablePan,\n  disableZoom\n}) => {\n  const nodeTypes = React.useContext(NodeTypesContext);\n  const dispatchNodes = React.useContext(NodeDispatchContext);\n  const wrapper = React.useRef();\n  const translateWrapper = React.useRef();\n  const [menuOpen, setMenuOpen] = React.useState(false);\n  const [menuCoordinates, setMenuCoordinates] = React.useState({ x: 0, y: 0 });\n  const dragData = React.useRef({ x: 0, y: 0 });\n  const [spaceIsPressed, setSpaceIsPressed] = React.useState(false);\n\n  const setStageRect = React.useCallback(() => {\n    stageRef.current = wrapper.current.getBoundingClientRect();\n  }, []);\n\n  React.useEffect(() => {\n    stageRef.current = wrapper.current.getBoundingClientRect();\n    window.addEventListener(\"resize\", setStageRect);\n    return () => {\n      window.removeEventListener(\"resize\", setStageRect);\n    };\n  }, [stageRef, setStageRect]);\n\n  const handleWheel = React.useCallback(\n    e => {\n      if (e.target.nodeName === \"TEXTAREA\" || e.target.dataset.comment) {\n        if (e.target.clientHeight < e.target.scrollHeight) return;\n      }\n      e.preventDefault();\n      if (numNodes === 0) return;\n      dispatchStageState(({ scale: currentScale, translate: currentTranslate }) => {\n        const delta = e.deltaY;\n        const newScale = clamp(currentScale - clamp(delta, -10, 10) * 0.005, 0.1, 7);\n\n        const byOldScale = (no) => no * (1 / currentScale);\n        const byNewScale = (no) => no * (1 / newScale);\n\n        const wrapperRect = wrapper.current.getBoundingClientRect();\n\n        const xOld = byOldScale(e.clientX - wrapperRect.x - wrapperRect.width / 2 + currentTranslate.x);\n        const yOld = byOldScale(e.clientY - wrapperRect.y - wrapperRect.height / 2 + currentTranslate.y);\n\n        const xNew = byNewScale(e.clientX - wrapperRect.x - wrapperRect.width / 2 + currentTranslate.x);\n        const yNew = byNewScale(e.clientY - wrapperRect.y - wrapperRect.height / 2 + currentTranslate.y);\n\n        const xDistance = xOld - xNew;\n        const yDistance = yOld - yNew;\n\n\n        return {\n          type: \"SET_TRANSLATE_SCALE\",\n          scale: newScale,\n          translate: {\n            x: currentTranslate.x + xDistance * newScale,\n            y: currentTranslate.y + yDistance * newScale\n          }\n        }\n      });\n\n    },\n    [dispatchStageState, numNodes]\n  );\n\n  const handleDragDelayStart = e => {\n    wrapper.current.focus();\n  };\n\n  const handleDragStart = e => {\n    e.preventDefault();\n    dragData.current = {\n      x: e.clientX,\n      y: e.clientY\n    };\n  };\n\n  const handleMouseDrag = (coords, e) => {\n    const xDistance = dragData.current.x - e.clientX;\n    const yDistance = dragData.current.y - e.clientY;\n    const xDelta = translate.x + xDistance;\n    const yDelta = translate.y + yDistance;\n    wrapper.current.style.backgroundPosition = `${-xDelta}px ${-yDelta}px`;\n    translateWrapper.current.style.transform = `translate(${-(\n      translate.x + xDistance\n    )}px, ${-(translate.y + yDistance)}px)`;\n  };\n\n  const handleDragEnd = e => {\n    const xDistance = dragData.current.x - e.clientX;\n    const yDistance = dragData.current.y - e.clientY;\n    dragData.current.x = e.clientX;\n    dragData.current.y = e.clientY;\n    dispatchStageState(({ translate: tran }) => ({\n      type: \"SET_TRANSLATE\",\n      translate: {\n        x: tran.x + xDistance,\n        y: tran.y + yDistance\n      }\n    }));\n  };\n\n  const handleContextMenu = e => {\n    e.preventDefault();\n    setMenuCoordinates({ x: e.clientX, y: e.clientY });\n    setMenuOpen(true);\n    return false;\n  };\n\n  const closeContextMenu = () => {\n    setMenuOpen(false);\n  };\n\n  const byScale = value => (1 / scale) * value;\n\n  const addNode = ({ node, internalType }) => {\n    const wrapperRect = wrapper.current.getBoundingClientRect();\n    const x =\n      byScale(menuCoordinates.x - wrapperRect.x - wrapperRect.width / 2) +\n      byScale(translate.x);\n    const y =\n      byScale(menuCoordinates.y - wrapperRect.y - wrapperRect.height / 2) +\n      byScale(translate.y);\n    if (internalType === \"comment\") {\n      dispatchComments({\n        type: \"ADD_COMMENT\",\n        x,\n        y\n      });\n    } else {\n      dispatchNodes({\n        type: \"ADD_NODE\",\n        x,\n        y,\n        nodeType: node.type\n      });\n    }\n  };\n\n  const handleDocumentKeyUp = e => {\n    if (e.which === 32) {\n      setSpaceIsPressed(false);\n      document.removeEventListener(\"keyup\", handleDocumentKeyUp);\n    }\n  };\n\n  const handleKeyDown = e => {\n    if (e.which === 32 && document.activeElement === wrapper.current) {\n      e.preventDefault();\n      e.stopPropagation();\n      setSpaceIsPressed(true);\n      document.addEventListener(\"keyup\", handleDocumentKeyUp);\n    }\n  };\n\n  const handleMouseEnter = () => {\n    if (!wrapper.current.contains(document.activeElement)) {\n      wrapper.current.focus();\n    }\n  };\n\n  React.useEffect(() => {\n    if (!disableZoom) {\n      let stageWrapper = wrapper.current;\n      stageWrapper.addEventListener(\"wheel\", handleWheel);\n      return () => {\n        stageWrapper.removeEventListener(\"wheel\", handleWheel);\n      };\n    }\n  }, [handleWheel, disableZoom]);\n\n  const menuOptions = React.useMemo(\n    () => {\n      const options = orderBy(\n        Object.values(nodeTypes)\n          .filter(node => node.addable !== false)\n          .map(node => ({\n            value: node.type,\n            label: node.label,\n            description: node.description,\n            sortIndex: node.sortIndex,\n            node\n          })),\n        [\"sortIndex\", \"label\"]\n      )\n      if (!disableComments) {\n        options.push({ value: \"comment\", label: \"Comment\", description: \"A comment for documenting nodes\", internalType: \"comment\" })\n      }\n      return options\n    },\n    [nodeTypes, disableComments]\n  );\n\n  return (\n    <Draggable\n      data-flume-component=\"stage\"\n      id={`${STAGE_ID}${editorId}`}\n      className={styles.wrapper}\n      innerRef={wrapper}\n      onContextMenu={handleContextMenu}\n      onMouseEnter={handleMouseEnter}\n      onDragDelayStart={handleDragDelayStart}\n      onDragStart={handleDragStart}\n      onDrag={handleMouseDrag}\n      onDragEnd={handleDragEnd}\n      onKeyDown={handleKeyDown}\n      tabIndex={-1}\n      stageState={{ scale, translate }}\n      style={{ cursor: spaceIsPressed && spaceToPan ? \"grab\" : \"\" }}\n      disabled={disablePan || (spaceToPan && !spaceIsPressed)}\n      data-flume-stage={true}\n    >\n      {menuOpen ? (\n        <Portal>\n          <ContextMenu\n            x={menuCoordinates.x}\n            y={menuCoordinates.y}\n            options={menuOptions}\n            onRequestClose={closeContextMenu}\n            onOptionSelected={addNode}\n            label=\"Add Node\"\n          />\n        </Portal>\n      ) : null}\n      <div\n        ref={translateWrapper}\n        className={styles.transformWrapper}\n        style={{ transform: `translate(${-translate.x}px, ${-translate.y}px)` }}\n      >\n        <div\n          className={styles.scaleWrapper}\n          style={{ transform: `scale(${scale})` }}\n        >\n          {children}\n        </div>\n      </div>\n      {outerStageChildren}\n    </Draggable>\n  );\n};\nexport default Stage;\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","import styles from \"./components/Connection/Connection.css\";\nimport { CONNECTIONS_ID } from './constants'\nimport { line, curveBasis } from 'd3-shape'\n\nconst getPort = (nodeId, portName, transputType = \"input\") => document\n  .querySelector(\n    `[data-node-id=\"${nodeId}\"] [data-port-name=\"${portName}\"][data-port-transput-type=\"${transputType}\"]`\n  )\n\nexport const getPortRect = (nodeId, portName, transputType = \"input\", cache) => {\n  if(cache){\n    const portCacheName = nodeId + portName + transputType;\n    const cachedPort = cache.current.ports[portCacheName];\n    if(cachedPort){\n      return cachedPort.getBoundingClientRect();\n    }else{\n      const port = getPort(nodeId, portName, transputType)\n      cache.current.ports[portCacheName] = port;\n      return port && port.getBoundingClientRect();\n    }\n  }else{\n    const port = getPort(nodeId, portName, transputType);\n    return port && port.getBoundingClientRect();\n  }\n}\n\nexport const getPortRectsByNodes = (nodes, forEachConnection) =>\n  Object.values(nodes).reduce((obj, node) => {\n    if (node.connections && node.connections.inputs) {\n      Object.entries(node.connections.inputs).forEach(\n        ([inputName, outputs]) => {\n          outputs.forEach(output => {\n            const toRect = getPortRect(node.id, inputName);\n            const fromRect = getPortRect(\n              output.nodeId,\n              output.portName,\n              \"output\"\n            );\n            if (forEachConnection) {\n              forEachConnection({\n                to: toRect,\n                from: fromRect,\n                name: output.nodeId + output.portName + node.id + inputName\n              });\n            }\n            obj[node.id + inputName] = toRect;\n            obj[output.nodeId + output.portName] = fromRect;\n          });\n        }\n      );\n    }\n    return obj;\n  }, {});\n\nexport const calculateCurve = (from, to) => {\n  const length = to.x - from.x;\n  const thirdLength = length / 3;\n  const curve = line().curve(curveBasis)([\n    [from.x, from.y],\n    [from.x + thirdLength, from.y],\n    [from.x + thirdLength * 2, to.y],\n    [to.x, to.y]\n  ]);\n  return curve;\n};\n\nexport const deleteConnection = ({ id }) => {\n  const line = document.querySelector(`[data-connection-id=\"${id}\"]`);\n  if (line) line.parentNode.remove();\n};\n\nexport const deleteConnectionsByNodeId = nodeId => {\n  const lines = document.querySelectorAll(\n    `[data-output-node-id=\"${nodeId}\"], [data-input-node-id=\"${nodeId}\"]`\n  );\n  for (const line of lines) {\n    line.parentNode.remove();\n  }\n};\n\nexport const updateConnection = ({ line, from, to }) => {\n  line.setAttribute(\"d\", calculateCurve(from, to));\n};\n\nexport const createSVG = ({\n  from,\n  to,\n  stage,\n  id,\n  outputNodeId,\n  outputPortName,\n  outputPortType,\n  inputNodeId,\n  inputPortName\n}) => {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  svg.setAttribute(\"class\", styles.svg);\n  const path = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n  const curve = calculateCurve(from, to)\n  path.setAttribute(\"d\", curve)\n  path.setAttribute(\"stroke\", \"rgb(185, 186, 189)\");\n  path.setAttribute(\"stroke-width\", \"3\");\n  path.setAttribute(\"stroke-linecap\", \"round\");\n  path.setAttribute(\"fill\", \"none\");\n  path.setAttribute(\"data-connection-id\", id);\n  path.setAttribute(\"data-output-node-id\", outputNodeId);\n  path.setAttribute(\"data-output-port-name\", outputPortName);\n  path.setAttribute(\"data-output-port-type\", outputPortType);\n  path.setAttribute(\"data-input-node-id\", inputNodeId);\n  path.setAttribute(\"data-input-port-name\", inputPortName);\n  svg.appendChild(path);\n  stage.appendChild(svg);\n  return svg;\n};\n\nexport const getStageRef = editorId =>\n  document.getElementById(`${CONNECTIONS_ID}${editorId}`);\n\nexport const createConnections = (nodes, {scale, stageId}, editorId) => {\n  const stageRef = getStageRef(editorId);\n  if(stageRef){\n    const stage = stageRef.getBoundingClientRect();\n    const stageHalfWidth = stage.width / 2;\n    const stageHalfHeight = stage.height / 2;\n\n    const byScale = value => (1 / scale) * value;\n\n    Object.values(nodes).forEach(node => {\n      if (node.connections && node.connections.inputs) {\n        Object.entries(node.connections.inputs).forEach(\n          ([inputName, outputs], k) => {\n            outputs.forEach(output => {\n              const fromPort = getPortRect(\n                output.nodeId,\n                output.portName,\n                \"output\"\n              );\n              const toPort = getPortRect(node.id, inputName, \"input\");\n              const portHalf = fromPort ? fromPort.width / 2 : 0;\n              if (fromPort && toPort) {\n                const id = output.nodeId + output.portName + node.id + inputName;\n                const existingLine = document.querySelector(\n                  `[data-connection-id=\"${id}\"]`\n                );\n                if (existingLine) {\n                  updateConnection({\n                    line: existingLine,\n                    from: {\n                      x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),\n                      y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)\n                    },\n                    to: {\n                      x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),\n                      y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)\n                    }\n                  });\n                } else {\n                  createSVG({\n                    id,\n                    outputNodeId: output.nodeId,\n                    outputPortName: output.portName,\n                    outputPortType: output.portType,\n                    inputNodeId: node.id,\n                    inputPortName: inputName,\n                    from: {\n                      x: byScale(fromPort.x - stage.x + portHalf - stageHalfWidth),\n                      y: byScale(fromPort.y - stage.y + portHalf - stageHalfHeight)\n                    },\n                    to: {\n                      x: byScale(toPort.x - stage.x + portHalf - stageHalfWidth),\n                      y: byScale(toPort.y - stage.y + portHalf - stageHalfHeight)\n                    },\n                    stage: stageRef\n                  });\n                }\n              }\n            });\n          }\n        );\n      }\n    });\n  }\n};\n","import React from \"react\";\nimport styles from \"./Checkbox.css\";\nimport { nanoid }from \"nanoid/non-secure/index\";\n\nconst Checkbox = ({ label, data, onChange }) => {\n  const id = React.useRef(nanoid(10));\n\n  return (\n    <div className={styles.wrapper}>\n      <input\n        data-flume-component=\"checkbox\"\n        className={styles.checkbox}\n        type=\"checkbox\"\n        id={id}\n        value={data}\n        checked={data}\n        onChange={e => onChange(e.target.checked)}\n      />\n      <label data-flume-component=\"checkbox-label\" className={styles.label} htmlFor={id}>\n        {label}\n      </label>\n    </div>\n  );\n};\n\nexport default Checkbox;\n","import React, { useEffect } from \"react\";\nimport styles from \"./TextInput.css\";\nimport { RecalculateStageRectContext } from '../../context'\n\nconst TextInput = ({\n  placeholder,\n  updateNodeConnections,\n  onChange,\n  data,\n  step,\n  type\n}) => {\n  const numberInput = React.useRef()\n  const textInput = React.useRef()\n  const recalculateStageRect = React.useContext(RecalculateStageRectContext)\n\n  const handleDragEnd = () => {\n    document.removeEventListener(\"mousemove\", handleMouseMove);\n    document.removeEventListener(\"mouseup\", handleDragEnd);\n  };\n\n  const handleMouseMove = e => {\n    e.stopPropagation();\n    updateNodeConnections();\n  };\n\n  const handlePossibleResize = e => {\n    e.stopPropagation();\n    recalculateStageRect();\n    document.addEventListener(\"mousemove\", handleMouseMove);\n    document.addEventListener(\"mouseup\", handleDragEnd);\n  };\n  useEffect(() => {\n    if (textInput.current) {\n      const elem = textInput.current\n      if (data) {\n        elem.style.height = 0;\n        elem.style.height = (elem.scrollHeight + 10) + \"px\";\n      } else {\n        elem.style.height = \"auto\";\n      }\n    }\n  }, [data])\n\n  return (\n    <div className={styles.wrapper} data-flume-component=\"text-input\">\n      {type === \"number\" ? (\n        <input\n          data-flume-component=\"text-input-number\"\n          onKeyDown={e => {\n            if(e.keyCode === 69){\n              e.preventDefault()\n              return false;\n            }\n          }}\n          onChange={e => {\n            const inputValue = e.target.value.replace(/e/g, \"\");\n            if (!!inputValue) {\n              const value = parseFloat(inputValue, 10);\n              if (Number.isNaN(value)) {\n                onChange(0);\n              } else {\n                onChange(value);\n                numberInput.current.value = value;\n              }\n            }\n          }}\n          onBlur={e => {\n            if (!e.target.value) {\n              onChange(0);\n              numberInput.current.value = 0;\n            }\n          }}\n          step={step || \"1\"}\n          onMouseDown={handlePossibleResize}\n          type={type || \"text\"}\n          placeholder={placeholder}\n          className={styles.input}\n          defaultValue={data}\n          onDragStart={e => e.stopPropagation()}\n          ref={numberInput}\n        />\n      ) : (\n        <textarea\n          data-flume-component=\"text-input-textarea\"\n          onChange={e => onChange(e.target.value)}\n          onMouseDown={handlePossibleResize}\n          type=\"text\"\n          placeholder={placeholder}\n          className={styles.input}\n          value={data}\n          onDragStart={e => e.stopPropagation()}\n          ref={textInput}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TextInput;\n","import React from \"react\";\nimport selectStyles from \"../Select/Select.css\";\nimport { Portal } from \"react-portal\";\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\nimport styles from \"./Select.css\";\n\nconst MAX_LABEL_LENGTH = 50;\n\nconst isOptionEqualToValueDefault = (option, value) => option === value\n\nconst Select = ({\n  options = [],\n  isOptionEqualToValue,\n  placeholder = \"[Select an option]\",\n  onChange,\n  data,\n  allowMultiple\n}) => {\n  const [drawerOpen, setDrawerOpen] = React.useState(false);\n  const [drawerCoordinates, setDrawerCoordinates] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const wrapper = React.useRef();\n  const [ theOptions, setTheOptions ] = React.useState([])\n\n  React.useEffect(() => {\n    if (options.then) {\n      options.then(setTheOptions)\n    } else {\n      setTheOptions(options)\n    }\n  }, [ options ])\n\n  const closeDrawer = () => {\n    setDrawerOpen(false);\n  };\n\n  const openDrawer = () => {\n    if (!drawerOpen) {\n      const wrapperRect = wrapper.current.getBoundingClientRect();\n      setDrawerCoordinates({\n        x: wrapperRect.x,\n        y: wrapperRect.y + wrapperRect.height\n      });\n      setDrawerOpen(true);\n    }\n  };\n\n  const handleOptionSelected = option => {\n    if(allowMultiple){\n      onChange([...data, option.value]);\n    }else{\n      onChange(option.value)\n    }\n  };\n\n  const handleOptionDeleted = optionIndex => {\n    onChange([...data.slice(0, optionIndex), ...data.slice(optionIndex + 1)]);\n  };\n\n  const getFilteredOptions = React.useCallback(() => (\n    allowMultiple ?\n    theOptions.filter(opt => !data.includes(opt.value))\n    : theOptions\n  ), [ theOptions, data ])\n\n  const selectedOption = React.useMemo(() => {\n    const option = theOptions.find(o => isOptionEqualToValue\n                                    ? isOptionEqualToValue(o.value, data)\n                                    : isOptionEqualToValueDefault(o.value, data)\n                                  );\n    if (option) {\n      return {\n        ...option,\n        label:\n          option.label.length > MAX_LABEL_LENGTH\n            ? option.label.slice(0, MAX_LABEL_LENGTH) + \"...\"\n            : option.label\n      };\n    }\n  }, [theOptions, data]);\n\n  return (\n    <React.Fragment>\n      {allowMultiple ? (\n        data.length ? (\n          <div className={styles.chipsWrapper}>\n            {data.map((val, i) => {\n              const optLabel =\n                (theOptions.find(opt => isOptionEqualToValue\n                                  ? isOptionEqualToValue(opt.value, val)\n                                  : isOptionEqualToValueDefault(opt.value, val)\n                                ) || {}).label || \"\";\n              return (\n                <OptionChip\n                  onRequestDelete={() => handleOptionDeleted(i)}\n                  key={val}\n                >\n                  {optLabel}\n                </OptionChip>\n              );\n            })}\n          </div>\n        ) : null\n      ) : data ? (\n        <SelectedOption\n          wrapperRef={wrapper}\n          option={selectedOption}\n          onClick={openDrawer}\n        />\n      ) : null}\n      {\n        (allowMultiple || !data) &&\n        <div className={selectStyles.wrapper} ref={wrapper} onClick={openDrawer}>\n          {placeholder}\n        </div>\n      }\n      {drawerOpen && (\n        <Portal>\n          <ContextMenu\n            x={drawerCoordinates.x}\n            y={drawerCoordinates.y}\n            emptyText=\"There are no options\"\n            options={getFilteredOptions()}\n            onOptionSelected={handleOptionSelected}\n            onRequestClose={closeDrawer}\n          />\n        </Portal>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default Select;\n\nconst SelectedOption = ({\n  option: { label, description } = {},\n  wrapperRef,\n  onClick\n}) => (\n  <div className={styles.selectedWrapper} onClick={onClick} ref={wrapperRef} data-flume-component=\"select\">\n    <label data-flume-component=\"select-label\">{label}</label>\n    {description ? <p data-flume-component=\"select-desc\">{description}</p> : null}\n  </div>\n);\n\nconst OptionChip = ({ children, onRequestDelete }) => (\n  <div className={styles.chipWrapper}>\n    {children}\n    <button\n      className={styles.deleteButton}\n      onMouseDown={e => {\n        e.stopPropagation();\n      }}\n      onClick={onRequestDelete}\n    >\n      \n    </button>\n  </div>\n);\n","import React from \"react\";\nimport styles from \"./Control.css\";\nimport Checkbox from \"../Checkbox/Checkbox\";\nimport TextInput from \"../TextInput/TextInput\";\nimport Select from \"../Select/Select\";\nimport { NodeDispatchContext, ContextContext } from \"../../context\";\n\nconst Control = ({\n  type,\n  name,\n  nodeId,\n  portName,\n  label,\n  inputLabel,\n  data,\n  allData,\n  render,\n  step,\n  options = [],\n  placeholder,\n  inputData,\n  triggerRecalculation,\n  updateNodeConnections,\n  getOptions,\n  isOptionEqualToValue,\n  setValue,\n  defaultValue,\n  isMonoControl\n}) => {\n  const nodesDispatch = React.useContext(NodeDispatchContext);\n  const executionContext = React.useContext(ContextContext);\n\n  const calculatedLabel = isMonoControl ? inputLabel : label;\n\n  const onChange = data => {\n    nodesDispatch({\n      type: \"SET_PORT_DATA\",\n      data,\n      nodeId,\n      portName,\n      controlName: name,\n      setValue\n    });\n    triggerRecalculation();\n  };\n\n  const getControlByType = type => {\n    const commonProps = {\n      triggerRecalculation,\n      updateNodeConnections,\n      onChange,\n      data\n    };\n    switch (type) {\n      case \"select\":\n        return (\n          <Select\n            {...commonProps}\n            options={\n              getOptions ? getOptions(inputData, executionContext, nodeId) : options\n            }\n            isOptionEqualToValue={isOptionEqualToValue}\n            placeholder={placeholder}\n          />\n        );\n      case \"text\":\n        return <TextInput {...commonProps} placeholder={placeholder} />;\n      case \"number\":\n        return (\n          <TextInput {...commonProps} step={step} type=\"number\" placeholder={placeholder} />\n        );\n      case \"checkbox\":\n        return <Checkbox {...commonProps} label={calculatedLabel} />;\n      case \"multiselect\":\n        return (\n          <Select\n            allowMultiple\n            {...commonProps}\n            options={\n              getOptions ? getOptions(inputData, executionContext, nodeId) : options\n            }\n            isOptionEqualToValue={isOptionEqualToValue}\n            placeholder={placeholder}\n            label={label}\n          />\n        );\n      case \"custom\":\n        return render(data, onChange, executionContext, triggerRecalculation, {\n          label,\n          name,\n          portName,\n          inputLabel,\n          defaultValue\n        }, allData);\n      default:\n        return <div>Control</div>;\n    }\n  };\n\n  return (\n    <div className={styles.wrapper} data-flume-component=\"control\">\n      {calculatedLabel && type !== \"checkbox\" && type !== \"custom\" && (\n        <label data-flume-component=\"control-label\" className={styles.controlLabel}>{calculatedLabel}</label>\n      )}\n      {getControlByType(type)}\n    </div>\n  );\n};\n\nexport default Control;\n","import React from \"react\";\nimport {calculateCurve} from '../../connectionCalculator'\nimport styles from \"./Connection.css\";\n\nconst Connection = ({\n  from,\n  to,\n  id,\n  color,\n  lineRef,\n  outputNodeId,\n  outputPortName,\n  outputPortType,\n  inputNodeId,\n  inputPortName\n}) => {\n  const curve = calculateCurve(from, to)\n  return (\n    <svg className={styles.svg} data-flume-component=\"connection-svg\">\n      <path\n        data-connection-id={id}\n        data-output-node-id={outputNodeId}\n        data-output-port-name={outputPortName}\n        data-output-port-type={outputPortType}\n        data-input-node-id={inputNodeId}\n        data-input-port-name={inputPortName}\n        data-flume-component=\"connection-path\"\n        stroke=\"rgb(185, 186, 189)\"\n        fill=\"none\"\n        strokeWidth={3}\n        strokeLinecap=\"round\"\n        d={curve}\n        ref={lineRef}\n      />\n    </svg>\n  );\n};\n\nexport default Connection;\n","import React from 'react'\n\nconst usePrevious = value => {\n  const ref = React.useRef();\n  React.useEffect(() => {\n    ref.current = value;\n  }, [ref.current]);\n  return ref.current;\n}\n\nexport default usePrevious\n","import React from \"react\";\nimport styles from \"./IoPorts.css\";\nimport { Portal } from \"react-portal\";\nimport {\n  NodeDispatchContext,\n  ConnectionRecalculateContext,\n  StageContext,\n  ContextContext,\n  EditorIdContext\n} from \"../../context\";\nimport Control from \"../Control/Control\";\nimport Connection from \"../Connection/Connection\";\nimport { PortTypesContext } from \"../../context\";\nimport usePrevious from \"../../hooks/usePrevious\";\nimport { calculateCurve, getPortRect } from \"../../connectionCalculator\";\nimport { STAGE_ID, DRAG_CONNECTION_ID } from '../../constants'\n\nfunction useTransputs (transputsFn, transputType, nodeId, inputData, connections) {\n  const nodesDispatch = React.useContext(NodeDispatchContext);\n  const executionContext = React.useContext(ContextContext);\n\n  const transputs = React.useMemo(() => {\n    if (Array.isArray(transputsFn)) return transputsFn;\n    return transputsFn(inputData, connections, executionContext);\n  }, [transputsFn, inputData, connections, executionContext]);\n  const prevTransputs = usePrevious(transputs);\n\n  React.useEffect(() => {\n    if (!prevTransputs || Array.isArray(transputsFn)) return;\n    for (const transput of prevTransputs) {\n      const current = transputs.find(({ name }) => transput.name === name);\n      if (!current) {\n        nodesDispatch({\n          type: 'DESTROY_TRANSPUT',\n          transputType,\n          transput: { nodeId, portName: '' + transput.name }\n        });\n      }\n    }\n  }, [transputsFn, transputs, prevTransputs, nodesDispatch, nodeId, transputType]);\n\n  return transputs;\n}\n\nconst IoPorts = ({\n  nodeId,\n  inputs = [],\n  outputs = [],\n  connections,\n  inputData,\n  updateNodeConnections\n}) => {\n  const inputTypes = React.useContext(PortTypesContext);\n  const triggerRecalculation = React.useContext(ConnectionRecalculateContext);\n  const resolvedInputs = useTransputs(inputs, 'input', nodeId, inputData, connections);\n  const resolvedOutputs = useTransputs(outputs, 'output', nodeId, inputData, connections);\n\n  return (\n    <div className={styles.wrapper} data-flume-component=\"ports\">\n      {resolvedInputs.length ? (\n        <div className={styles.inputs} data-flume-component=\"ports-inputs\">\n          {resolvedInputs.map(input => (\n            <Input\n              {...input}\n              data={inputData[input.name] || {}}\n              isConnected={!!connections.inputs[input.name]}\n              triggerRecalculation={triggerRecalculation}\n              updateNodeConnections={updateNodeConnections}\n              inputTypes={inputTypes}\n              nodeId={nodeId}\n              inputData={inputData}\n              key={input.name}\n            />\n          ))}\n        </div>\n      ) : null}\n      {!!resolvedOutputs.length && (\n        <div className={styles.outputs} data-flume-component=\"ports-outputs\">\n          {resolvedOutputs.map(output => (\n            <Output\n              {...output}\n              triggerRecalculation={triggerRecalculation}\n              inputTypes={inputTypes}\n              nodeId={nodeId}\n              inputData={inputData}\n              portOnRight\n              key={output.name}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default IoPorts;\n\nconst Input = ({\n  type,\n  label,\n  name,\n  nodeId,\n  data,\n  controls: localControls,\n  inputTypes,\n  noControls,\n  triggerRecalculation,\n  updateNodeConnections,\n  isConnected,\n  inputData,\n  hidePort\n}) => {\n  const { label: defaultLabel, color, controls: defaultControls = [] } =\n    inputTypes[type] || {};\n  const prevConnected = usePrevious(isConnected);\n\n  const controls = localControls || defaultControls;\n\n  // React.useEffect(() => {\n  //   if (isConnected !== prevConnected) {\n  //     triggerRecalculation();\n  //   }\n  // }, [isConnected, prevConnected, triggerRecalculation]);\n\n  return (\n    <div\n      data-flume-component=\"port-input\"\n      className={styles.transput}\n      data-controlless={isConnected || noControls || !controls.length}\n      onDragStart={e => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n    >\n      {!hidePort ? (\n        <Port\n          type={type}\n          color={color}\n          name={name}\n          nodeId={nodeId}\n          isInput\n          triggerRecalculation={triggerRecalculation}\n        />\n      ) : null}\n      {(!controls.length || noControls || isConnected) && (\n        <label data-flume-component=\"port-label\" className={styles.portLabel}>{label || defaultLabel}</label>\n      )}\n      {!noControls && !isConnected\n        ? (\n          <div className={styles.controls}>\n            {\n              controls.map(control => (\n                  <Control\n                    {...control}\n                    nodeId={nodeId}\n                    portName={name}\n                    triggerRecalculation={triggerRecalculation}\n                    updateNodeConnections={updateNodeConnections}\n                    inputLabel={label}\n                    data={data[control.name]}\n                    allData={data}\n                    key={control.name}\n                    inputData={inputData}\n                    isMonoControl={controls.length === 1}\n                  />\n                ))\n            }\n          </div>\n        )\n        : null}\n    </div>\n  );\n};\n\nconst Output = ({\n  label,\n  name,\n  nodeId,\n  type,\n  inputTypes,\n  triggerRecalculation\n}) => {\n  const { label: defaultLabel, color } = inputTypes[type] || {};\n\n  return (\n    <div\n      data-flume-component=\"port-output\"\n      className={styles.transput}\n      data-controlless={true}\n      onDragStart={e => {\n        e.preventDefault();\n        e.stopPropagation();\n      }}\n    >\n      <label data-flume-component=\"port-label\" className={styles.portLabel}>{label || defaultLabel}</label>\n      <Port\n        type={type}\n        name={name}\n        color={color}\n        nodeId={nodeId}\n        triggerRecalculation={triggerRecalculation}\n      />\n    </div>\n  );\n};\n\nconst Port = ({\n  color = \"grey\",\n  name = \"\",\n  type,\n  isInput,\n  nodeId,\n  triggerRecalculation\n}) => {\n  const nodesDispatch = React.useContext(NodeDispatchContext);\n  const stageState = React.useContext(StageContext);\n  const editorId = React.useContext(EditorIdContext);\n  const stageId = `${STAGE_ID}${editorId}`\n  const inputTypes = React.useContext(PortTypesContext);\n  const [isDragging, setIsDragging] = React.useState(false);\n  const [dragStartCoordinates, setDragStartCoordinates] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const dragStartCoordinatesCache = React.useRef(dragStartCoordinates);\n  const port = React.useRef();\n  const line = React.useRef();\n  const lineInToPort = React.useRef();\n\n  const byScale = value => (1 / stageState.scale) * value;\n\n  const handleDrag = e => {\n    const stage = document\n      .getElementById(stageId)\n      .getBoundingClientRect();\n\n    if (isInput) {\n      const to = {\n        x:\n          byScale(e.clientX - stage.x - stage.width / 2) +\n          byScale(stageState.translate.x),\n        y:\n          byScale(e.clientY - stage.y - stage.height / 2) +\n          byScale(stageState.translate.y)\n      };\n      lineInToPort.current.setAttribute(\n        \"d\",\n        calculateCurve(dragStartCoordinatesCache.current, to)\n      );\n    } else {\n      const to = {\n        x:\n          byScale(e.clientX - stage.x - stage.width / 2) +\n          byScale(stageState.translate.x),\n        y:\n          byScale(e.clientY - stage.y - stage.height / 2) +\n          byScale(stageState.translate.y)\n      };\n      line.current.setAttribute(\n        \"d\",\n        calculateCurve(dragStartCoordinatesCache.current, to)\n      );\n    }\n  };\n\n  const handleDragEnd = e => {\n    const droppedOnPort = !!e.target.dataset.portName;\n\n    if (isInput) {\n      const {\n        inputNodeId,\n        inputPortName,\n        inputPortType,\n        outputNodeId,\n        outputPortName,\n        outputPortType\n      } = lineInToPort.current.dataset;\n      nodesDispatch({\n        type: \"REMOVE_CONNECTION\",\n        input: { nodeId: inputNodeId, portName: inputPortName, portType: inputPortType },\n        output: { nodeId: outputNodeId, portName: outputPortName, portType: outputPortType }\n      });\n      if (droppedOnPort) {\n        const {\n          portName: connectToPortName,\n          nodeId: connectToNodeId,\n          portType: connectToPortType,\n          portTransputType: connectToTransputType\n        } = e.target.dataset;\n        const isNotSameNode = outputNodeId !== connectToNodeId;\n        if (isNotSameNode && connectToTransputType !== \"output\") {\n          const inputWillAcceptConnection = inputTypes[\n            connectToPortType\n          ].acceptTypes.includes(type);\n          if (inputWillAcceptConnection) {\n            nodesDispatch({\n              type: \"ADD_CONNECTION\",\n              input: { nodeId: connectToNodeId, portName: connectToPortName, portType: connectToPortType },\n              output: { nodeId: outputNodeId, portName: outputPortName, portType: outputPortType }\n            });\n          }\n        }\n      }\n    } else {\n      if (droppedOnPort) {\n        const {\n          portName: inputPortName,\n          nodeId: inputNodeId,\n          portType: inputNodeType,\n          portTransputType: inputTransputType\n        } = e.target.dataset;\n        const isNotSameNode = inputNodeId !== nodeId;\n        if (isNotSameNode && inputTransputType !== \"output\") {\n          const inputWillAcceptConnection = inputTypes[\n            inputNodeType\n          ].acceptTypes.includes(type);\n          if (inputWillAcceptConnection) {\n            nodesDispatch({\n              type: \"ADD_CONNECTION\",\n              output: { nodeId, portName: name, portType: type },\n              input: { nodeId: inputNodeId, portName: inputPortName, portType: inputNodeType }\n            });\n            triggerRecalculation();\n          }\n        }\n      }\n    }\n    setIsDragging(false);\n    document.removeEventListener(\"mouseup\", handleDragEnd);\n    document.removeEventListener(\"mousemove\", handleDrag);\n  };\n\n  const handleDragStart = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    const startPort = port.current.getBoundingClientRect();\n    const stage = document\n      .getElementById(stageId)\n      .getBoundingClientRect();\n\n    if (isInput) {\n      lineInToPort.current = document.querySelector(\n        `[data-input-node-id=\"${nodeId}\"][data-input-port-name=\"${name}\"]`\n      );\n      const portIsConnected = !!lineInToPort.current;\n      if (portIsConnected) {\n        lineInToPort.current.parentNode.style.zIndex = 9999;\n        const outputPort = getPortRect(\n          lineInToPort.current.dataset.outputNodeId,\n          lineInToPort.current.dataset.outputPortName,\n          \"output\"\n        );\n        const coordinates = {\n          x:\n            byScale(\n              outputPort.x - stage.x + outputPort.width / 2 - stage.width / 2\n            ) + byScale(stageState.translate.x),\n          y:\n            byScale(\n              outputPort.y - stage.y + outputPort.width / 2 - stage.height / 2\n            ) + byScale(stageState.translate.y)\n        };\n        setDragStartCoordinates(coordinates);\n        dragStartCoordinatesCache.current = coordinates;\n        setIsDragging(true);\n        document.addEventListener(\"mouseup\", handleDragEnd);\n        document.addEventListener(\"mousemove\", handleDrag);\n      }\n    } else {\n      const coordinates = {\n        x:\n          byScale(\n            startPort.x - stage.x + startPort.width / 2 - stage.width / 2\n          ) + byScale(stageState.translate.x),\n        y:\n          byScale(\n            startPort.y - stage.y + startPort.width / 2 - stage.height / 2\n          ) + byScale(stageState.translate.y)\n      };\n      setDragStartCoordinates(coordinates);\n      dragStartCoordinatesCache.current = coordinates;\n      setIsDragging(true);\n      document.addEventListener(\"mouseup\", handleDragEnd);\n      document.addEventListener(\"mousemove\", handleDrag);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <div\n        style={{ zIndex: 999 }}\n        onMouseDown={handleDragStart}\n        className={styles.port}\n        data-port-color={color}\n        data-port-name={name}\n        data-port-type={type}\n        data-port-transput-type={isInput ? \"input\" : \"output\"}\n        data-node-id={nodeId}\n        data-flume-component=\"port-handle\"\n        onDragStart={e => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n        ref={port}\n      />\n      {isDragging && !isInput ? (\n        <Portal\n          node={document.getElementById(`${DRAG_CONNECTION_ID}${editorId}`)}\n        >\n          <Connection\n            from={dragStartCoordinates}\n            to={dragStartCoordinates}\n            color={color}\n            lineRef={line}\n          />\n        </Portal>\n      ) : null}\n    </React.Fragment>\n  );\n};\n","import React from \"react\";\nimport styles from \"./Node.css\";\nimport {\n  NodeTypesContext,\n  NodeDispatchContext,\n  StageContext,\n  CacheContext\n} from \"../../context\";\nimport { getPortRect, calculateCurve } from \"../../connectionCalculator\";\nimport { Portal } from \"react-portal\";\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\nimport IoPorts from \"../IoPorts/IoPorts\";\nimport Draggable from \"../Draggable/Draggable\";\n\nconst Node = ({\n  id,\n  width,\n  x,\n  y,\n  stageRect,\n  connections,\n  type,\n  inputData,\n  root,\n  onDragStart,\n  renderNodeHeader\n}) => {\n  const cache = React.useContext(CacheContext);\n  const nodeTypes = React.useContext(NodeTypesContext);\n  const nodesDispatch = React.useContext(NodeDispatchContext);\n  const stageState = React.useContext(StageContext);\n  const currentNodeType = nodeTypes[type];\n  const { label, deletable, inputs = [], outputs = [] } = currentNodeType;\n\n  const nodeWrapper = React.useRef();\n  const [menuOpen, setMenuOpen] = React.useState(false);\n  const [menuCoordinates, setMenuCoordinates] = React.useState({ x: 0, y: 0 });\n\n  const byScale = value => (1 / stageState.scale) * value;\n\n  const updateConnectionsByTransput = (transput = {}, isOutput) => {\n    Object.entries(transput).forEach(([portName, outputs]) => {\n      outputs.forEach(output => {\n        const toRect = getPortRect(\n          id,\n          portName,\n          isOutput ? \"output\" : \"input\",\n          cache\n        );\n        const fromRect = getPortRect(\n          output.nodeId,\n          output.portName,\n          isOutput ? \"input\" : \"output\",\n          cache\n        );\n        const portHalf = fromRect.width / 2;\n        let combined;\n        if (isOutput) {\n          combined = id + portName + output.nodeId + output.portName;\n        } else {\n          combined = output.nodeId + output.portName + id + portName;\n        }\n        let cnx;\n        const cachedConnection = cache.current.connections[combined];\n        if (cachedConnection) {\n          cnx = cachedConnection;\n        } else {\n          cnx = document.querySelector(`[data-connection-id=\"${combined}\"]`);\n          cache.current.connections[combined] = cnx;\n        }\n        const from = {\n          x:\n            byScale(\n              toRect.x -\n                stageRect.current.x +\n                portHalf -\n                stageRect.current.width / 2\n            ) + byScale(stageState.translate.x),\n          y:\n            byScale(\n              toRect.y -\n                stageRect.current.y +\n                portHalf -\n                stageRect.current.height / 2\n            ) + byScale(stageState.translate.y)\n        };\n        const to = {\n          x:\n            byScale(\n              fromRect.x -\n                stageRect.current.x +\n                portHalf -\n                stageRect.current.width / 2\n            ) + byScale(stageState.translate.x),\n          y:\n            byScale(\n              fromRect.y -\n                stageRect.current.y +\n                portHalf -\n                stageRect.current.height / 2\n            ) + byScale(stageState.translate.y)\n        };\n        cnx.setAttribute(\"d\", isOutput ? calculateCurve(from, to) : calculateCurve(to, from));\n      });\n    });\n  };\n\n  const updateNodeConnections = () => {\n    if (connections) {\n      updateConnectionsByTransput(connections.inputs);\n      updateConnectionsByTransput(connections.outputs, true);\n    }\n  };\n\n  const stopDrag = (e, coordinates) => {\n    nodesDispatch({\n      type: \"SET_NODE_COORDINATES\",\n      ...coordinates,\n      nodeId: id\n    });\n  };\n\n  const handleDrag = ({ x, y }) => {\n    nodeWrapper.current.style.transform = `translate(${x}px,${y}px)`;\n    updateNodeConnections();\n  };\n\n  const startDrag = e => {\n    onDragStart();\n  };\n\n  const handleContextMenu = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setMenuCoordinates({ x: e.clientX, y: e.clientY });\n    setMenuOpen(true);\n    return false;\n  };\n\n  const closeContextMenu = () => {\n    setMenuOpen(false);\n  };\n\n  const deleteNode = () => {\n    nodesDispatch({\n      type: \"REMOVE_NODE\",\n      nodeId: id\n    });\n  };\n\n  const handleMenuOption = ({ value }) => {\n    switch (value) {\n      case \"deleteNode\":\n        deleteNode();\n        break;\n      default:\n        return;\n    }\n  };\n\n  return (\n    <Draggable\n      className={styles.wrapper}\n      style={{\n        width,\n        transform: `translate(${x}px, ${y}px)`\n      }}\n      onDragStart={startDrag}\n      onDrag={handleDrag}\n      onDragEnd={stopDrag}\n      innerRef={nodeWrapper}\n      data-node-id={id}\n      data-flume-component=\"node\"\n      data-flume-component-is-root={!!root}\n      onContextMenu={handleContextMenu}\n      stageState={stageState}\n      stageRect={stageRect}\n    >\n      {renderNodeHeader ? (\n        renderNodeHeader(NodeHeader, currentNodeType, {\n          openMenu: handleContextMenu,\n          closeMenu: closeContextMenu,\n          deleteNode\n        })\n      ) : (\n        <NodeHeader>{label}</NodeHeader>\n      )}\n      <IoPorts\n        nodeId={id}\n        inputs={inputs}\n        outputs={outputs}\n        connections={connections}\n        updateNodeConnections={updateNodeConnections}\n        inputData={inputData}\n      />\n      {menuOpen ? (\n        <Portal>\n          <ContextMenu\n            x={menuCoordinates.x}\n            y={menuCoordinates.y}\n            options={[\n              ...(deletable !== false\n                ? [\n                    {\n                      label: \"Delete Node\",\n                      value: \"deleteNode\",\n                      description: \"Deletes a node and all of its connections.\"\n                    }\n                  ]\n                : [])\n            ]}\n            onRequestClose={closeContextMenu}\n            onOptionSelected={handleMenuOption}\n            hideFilter\n            label=\"Node Options\"\n            emptyText=\"This node has no options.\"\n          />\n        </Portal>\n      ) : null}\n    </Draggable>\n  );\n};\n\nconst NodeHeader = ({ children, className = \"\", ...props }) => (\n  <h2 {...props} className={styles.label + (className ? ` ${className}` : \"\")} data-flume-component=\"node-header\">\n    {children}\n  </h2>\n);\n\nexport default Node;\n","const define = (value, defaultValue) =>\n  value !== undefined ? value : defaultValue;\n\nconst buildControlType = (\n  defaultConfig,\n  validate = () => {},\n  setup = () => ({})\n) => config => {\n  validate(config);\n  return {\n    type: defaultConfig.type,\n    label: define(config.label, defaultConfig.label || \"\"),\n    name: define(config.name, defaultConfig.name || \"\"),\n    defaultValue: define(config.defaultValue, defaultConfig.defaultValue),\n    setValue: define(config.setValue, undefined),\n    ...setup(config)\n  };\n};\n\nexport const Controls = {\n  text: buildControlType({\n    type: \"text\",\n    name: \"text\",\n    defaultValue: \"\"\n  }),\n  select: buildControlType(\n    {\n      type: \"select\",\n      name: \"select\",\n      options: [],\n      defaultValue: \"\"\n    },\n    () => {},\n    config => ({\n      options: define(config.options, []),\n      getOptions: define(config.getOptions, undefined),\n      placeholder: define(config.placeholder, undefined)\n    })\n  ),\n  number: buildControlType(\n    {\n      type: \"number\",\n      name: \"number\",\n      defaultValue: 0\n    },\n    () => {},\n    config => ({\n      step: define(config.step, undefined)\n    })\n  ),\n  checkbox: buildControlType({\n    type: \"checkbox\",\n    name: \"checkbox\",\n    defaultValue: false\n  }),\n  multiselect: buildControlType(\n    {\n      type: \"multiselect\",\n      name: \"multiselect\",\n      options: [],\n      defaultValue: []\n    },\n    () => {},\n    config => ({\n      options: define(config.options, []),\n      getOptions: define(config.getOptions, undefined),\n      placeholder: define(config.placeholder, undefined)\n    })\n  ),\n  custom: buildControlType(\n    {\n      type: \"custom\",\n      name: \"custom\",\n      render: () => {},\n      defaultValue: undefined\n    },\n    () => {},\n    config => ({\n      render: define(config.render, () => {})\n    })\n  )\n};\n\nexport const Colors = {\n  yellow: \"yellow\",\n  orange: \"orange\",\n  red: \"red\",\n  pink: \"pink\",\n  purple: \"purple\",\n  blue: \"blue\",\n  green: \"green\",\n  grey: \"grey\"\n};\n\nexport const getPortBuilders = ports =>\n  Object.values(ports).reduce((obj, port) => {\n    obj[port.type] = (config = {}) => {\n      return {\n        type: port.type,\n        name: config.name || port.name,\n        label: config.label || port.label,\n        noControls: define(config.noControls, false),\n        color: config.color || port.color,\n        hidePort: define(config.hidePort, port.hidePort),\n        controls: define(config.controls, port.controls)\n      };\n    };\n    return obj;\n  }, {});\n\nexport class FlumeConfig {\n  constructor(config) {\n    if (config) {\n      this.nodeTypes = { ...config.nodeTypes };\n      this.portTypes = { ...config.portTypes };\n    } else {\n      this.nodeTypes = {};\n      this.portTypes = {};\n    }\n  }\n  addRootNodeType(config) {\n    this.addNodeType({\n      ...config,\n      root: true,\n      addable: false,\n      deletable: false\n    })\n    return this;\n  }\n  addNodeType(config) {\n    if (typeof config !== \"object\" && config !== null) {\n      throw new Error(\n        \"You must provide a configuration object when calling addNodeType.\"\n      );\n    }\n    if (typeof config.type !== \"string\") {\n      throw new Error(\n        `Required key, \"type\" must be a string when calling addNodeType.`\n      );\n    }\n    if (\n      typeof config.initialWidth !== \"undefined\" &&\n      typeof config.initialWidth !== \"number\"\n    ) {\n      throw new Error(\n        `Optional key, \"initialWidth\" must be a number when calling addNodeType.`\n      );\n    }\n    if (this.nodeTypes[config.type] !== undefined) {\n      throw new Error(\n        `A node with type \"${config.type}\" has already been declared.`\n      );\n    }\n    const node = {\n      type: config.type,\n      label: define(config.label, \"\"),\n      description: define(config.description, \"\"),\n      addable: define(config.addable, true),\n      deletable: define(config.deletable, true)\n    };\n    if (config.initialWidth) {\n      node.initialWidth = config.initialWidth;\n    }\n    if (config.sortIndex !== undefined) {\n      node.sortIndex = config.sortIndex;\n    }\n    if (typeof config.inputs === \"function\") {\n      const inputs = config.inputs(getPortBuilders(this.portTypes));\n      if (!Array.isArray(inputs) && typeof config.inputs !== 'function') {\n        throw new Error(\n          `When providing a function to the \"inputs\" key, you must return either an array or a function.`\n        );\n      }\n      node.inputs = inputs;\n    } else if (config.inputs === undefined) {\n      node.inputs = [];\n    } else if (!Array.isArray(config.inputs)) {\n      throw new Error(`Optional key, \"inputs\" must be an array.`);\n    } else {\n      node.inputs = config.inputs;\n    }\n\n    if (typeof config.outputs === \"function\") {\n      const outputs = config.outputs(getPortBuilders(this.portTypes));\n      if (!Array.isArray(outputs) && typeof config.outputs !== 'function') {\n        throw new Error(\n          `When providing a function to the \"outputs\" key, you must return either an array or a function.`\n        );\n      }\n      node.outputs = outputs;\n    } else if (config.outputs === undefined) {\n      node.outputs = [];\n    } else if (config.outputs !== undefined && !Array.isArray(config.outputs)) {\n      throw new Error(`Optional key, \"outputs\" must be an array.`);\n    } else {\n      node.outputs = config.outputs;\n    }\n\n    if (config.root !== undefined) {\n      if (typeof config.root !== \"boolean\") {\n        throw new Error(`Optional key, \"root\" must be a boolean.`);\n      } else {\n        node.root = config.root;\n      }\n    }\n\n    this.nodeTypes[config.type] = node;\n    return this;\n  }\n  removeNodeType(type) {\n    if (!this.nodeTypes[type]) {\n      console.error(`Non-existent node type \"${type}\" cannot be removed.`);\n    } else {\n      const { [type]: deleted, ...nodeTypes } = this.nodeTypes;\n      this.nodeTypes = nodeTypes;\n    }\n    return this;\n  }\n  addPortType(config) {\n    if (typeof config !== \"object\" && config !== null) {\n      throw new Error(\n        \"You must provide a configuration object when calling addPortType\"\n      );\n    }\n    if (typeof config.type !== \"string\") {\n      throw new Error(\n        `Required key, \"type\" must be a string when calling addPortType.`\n      );\n    }\n    if (this.portTypes[config.type] !== undefined) {\n      throw new Error(\n        `A port with type \"${config.type}\" has already been declared.`\n      );\n    }\n    if (typeof config.name !== \"string\") {\n      throw new Error(\n        `Required key, \"name\" must be a string when calling addPortType.`\n      );\n    }\n\n    const port = {\n      type: config.type,\n      name: config.name,\n      label: define(config.label, \"\"),\n      color: define(config.color, Colors.grey),\n      hidePort: define(config.hidePort, false)\n    };\n\n    if (config.acceptTypes === undefined) {\n      port.acceptTypes = [config.type];\n    } else if (!Array.isArray(config.acceptTypes)) {\n      throw new Error(`Optional key, \"acceptTypes\" must be an array.`);\n    } else {\n      port.acceptTypes = config.acceptTypes;\n    }\n\n    if (config.controls === undefined) {\n      port.controls = [];\n    } else if (!Array.isArray(config.controls)) {\n      throw new Error(`Optional key, \"controls\" must be an array.`);\n    } else {\n      port.controls = config.controls;\n    }\n\n    this.portTypes[config.type] = port;\n    return this;\n  }\n  removePortType(type, { skipDynamicNodesCheck = false } = {}) {\n    if (!this.portTypes[type]) {\n      console.error(`Non-existent port type \"${type}\" cannot be removed.`);\n    } else {\n      if (!skipDynamicNodesCheck) {\n        const dynamicNodes = Object.values(this.nodeTypes).filter(\n          node =>\n            typeof node.inputs === 'function' ||\n            typeof node.outputs === 'function'\n        );\n        if (dynamicNodes.length) {\n          console.warn(\n            `We've detected that one or more of your nodes is using dynamic inputs/outputs. This is a potentially dangerous operation as we are unable to detect if this portType is being used in one of those nodes. You can quiet this message by passing { skipDynamicNodesCheck: true } in as the second argument.`\n          );\n        }  \n      }\n      const affectedNodes = Object.values(this.nodeTypes).filter(\n        node =>\n          (Array.isArray(node.inputs) &&\n            node.inputs.find(p => p.type === type)) ||\n          (Array.isArray(node.outputs) &&\n            node.outputs.find(p => p.type === type))\n      );\n      if (affectedNodes.length) {\n        throw new Error(\n          `Cannot delete port type \"${type}\" without first deleting all node types using these ports: [${affectedNodes\n            .map(n => `${n.type}`)\n            .join(\", \")}]`\n        );\n      } else {\n        const { [type]: deleted, ...portTypes } = this.portTypes;\n        this.portTypes = portTypes;\n      }\n    }\n    return this;\n  }\n}\n","import React from \"react\";\nimport styles from \"./ColorPicker.css\";\nimport { Colors } from \"../../typeBuilders\";\n\nexport default ({ x, y, onColorPicked, onRequestClose }) => {\n  const wrapper = React.useRef();\n\n  const testClickOutside = React.useCallback(\n    e => {\n      if (wrapper.current && !wrapper.current.contains(e.target)) {\n        onRequestClose();\n        document.removeEventListener(\"click\", testClickOutside);\n        document.removeEventListener(\"contextmenu\", testClickOutside);\n      }\n    },\n    [wrapper, onRequestClose]\n  );\n\n  const testEscape = React.useCallback(\n    e => {\n      if (e.keyCode === 27) {\n        onRequestClose();\n        document.removeEventListener(\"keydown\", testEscape);\n      }\n    },\n    [onRequestClose]\n  );\n\n  React.useEffect(() => {\n    document.addEventListener(\"keydown\", testEscape);\n    document.addEventListener(\"click\", testClickOutside);\n    document.addEventListener(\"contextmenu\", testClickOutside);\n    return () => {\n      document.removeEventListener(\"click\", testClickOutside);\n      document.removeEventListener(\"contextmenu\", testClickOutside);\n      document.removeEventListener(\"keydown\", testEscape);\n    };\n  }, [testClickOutside, testEscape]);\n\n  return (\n    <div\n      data-flume-component=\"color-picker\"\n      ref={wrapper}\n      className={styles.wrapper}\n      style={{\n        left: x,\n        top: y\n      }}\n    >\n      {Object.values(Colors).map(color => (\n        <ColorButton\n          onSelected={() => {\n            onColorPicked(color);\n            onRequestClose();\n          }}\n          color={color}\n          key={color}\n        />\n      ))}\n    </div>\n  );\n};\n\nconst ColorButton = ({ color, onSelected }) => (\n  <div className={styles.colorButtonWrapper}>\n    <button\n      data-flume-component=\"color-button\"\n      className={styles.colorButton}\n      onClick={onSelected}\n      data-color={color}\n      aria-label={color}\n    />\n  </div>\n);\n","import React from \"react\";\nimport styles from \"./Comment.css\";\nimport Draggable from \"../Draggable/Draggable\";\nimport ContextMenu from \"../ContextMenu/ContextMenu\";\nimport ColorPicker from \"../ColorPicker/ColorPicker\";\nimport { StageContext } from \"../../context\";\nimport { Portal } from \"react-portal\";\nimport clamp from \"lodash/clamp\";\n\nexport default ({\n  dispatch,\n  id,\n  x,\n  y,\n  width,\n  height,\n  color,\n  text,\n  stageRect,\n  onDragStart,\n  isNew\n}) => {\n  const stageState = React.useContext(StageContext);\n  const wrapper = React.useRef();\n  const textarea = React.useRef();\n  const [isEditing, setIsEditing] = React.useState(false);\n  const [isPickingColor, setIsPickingColor] = React.useState(false);\n  const [menuOpen, setMenuOpen] = React.useState(false);\n  const [menuCoordinates, setMenuCoordinates] = React.useState({ x: 0, y: 0 });\n  const [colorPickerCoordinates, setColorPickerCoordinates] = React.useState({\n    x: 0,\n    y: 0\n  });\n\n  const handleContextMenu = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setMenuCoordinates({ x: e.clientX, y: e.clientY });\n    setMenuOpen(true);\n    return false;\n  };\n\n  const closeContextMenu = () => setMenuOpen(false);\n\n  const startDrag = e => {\n    onDragStart();\n  };\n\n  const handleDrag = ({ x, y }) => {\n    wrapper.current.style.transform = `translate(${x}px,${y}px)`;\n  };\n\n  const handleDragEnd = (_, { x, y }) => {\n    dispatch({\n      type: \"SET_COMMENT_COORDINATES\",\n      id,\n      x,\n      y\n    });\n  };\n\n  const handleResize = coordinates => {\n    const width = clamp(coordinates.x - x + 10, 80, 10000);\n    const height = clamp(coordinates.y - y + 10, 30, 10000);\n    wrapper.current.style.width = `${width}px`;\n    wrapper.current.style.height = `${height}px`;\n  };\n\n  const handleResizeEnd = (_, coordinates) => {\n    const width = clamp(coordinates.x - x + 10, 80, 10000);\n    const height = clamp(coordinates.y - y + 10, 30, 10000);\n    dispatch({\n      type: \"SET_COMMENT_DIMENSIONS\",\n      id,\n      width,\n      height\n    });\n  };\n\n  const handleMenuOption = (option, e) => {\n    switch (option.value) {\n      case \"edit\":\n        startTextEdit();\n        break;\n      case \"color\":\n        setColorPickerCoordinates(menuCoordinates);\n        setIsPickingColor(true);\n        break;\n      case \"delete\":\n        dispatch({\n          type: \"DELETE_COMMENT\",\n          id\n        });\n        break;\n      default:\n    }\n  };\n\n  const startTextEdit = () => {\n    setIsEditing(true);\n  };\n\n  const endTextEdit = () => {\n    setIsEditing(false);\n  };\n\n  const handleTextChange = e => {\n    dispatch({\n      type: \"SET_COMMENT_TEXT\",\n      id,\n      text: e.target.value\n    });\n  };\n\n  const handleColorPicked = color => {\n    dispatch({\n      type: \"SET_COMMENT_COLOR\",\n      id,\n      color\n    });\n  };\n\n  React.useEffect(() => {\n    if (isNew) {\n      setIsEditing(true);\n      dispatch({\n        type: \"REMOVE_COMMENT_NEW\",\n        id\n      });\n    }\n  }, [isNew, dispatch, id]);\n\n  return (\n    <Draggable\n      innerRef={wrapper}\n      className={styles.wrapper}\n      style={{\n        transform: `translate(${x}px,${y}px)`,\n        width,\n        height,\n        zIndex: isEditing ? 999 : \"\"\n      }}\n      stageState={stageState}\n      stageRect={stageRect}\n      onDragStart={startDrag}\n      onDrag={handleDrag}\n      onDragEnd={handleDragEnd}\n      onContextMenu={handleContextMenu}\n      onDoubleClick={startTextEdit}\n      onWheel={e => e.stopPropagation()}\n      data-color={color}\n      data-flume-component=\"comment\"\n    >\n      {isEditing ? (\n        <textarea\n          data-flume-component=\"comment-textarea\"\n          className={styles.textarea}\n          onChange={handleTextChange}\n          onMouseDown={e => e.stopPropagation()}\n          onBlur={endTextEdit}\n          placeholder=\"Text of the comment...\"\n          autoFocus\n          value={text}\n          ref={textarea}\n        />\n      ) : (\n        <div data-flume-component=\"comment-text\" data-comment={true} className={styles.text}>\n          {text}\n        </div>\n      )}\n      <Draggable\n        className={styles.resizeThumb}\n        stageState={stageState}\n        stageRect={stageRect}\n        onDrag={handleResize}\n        onDragEnd={handleResizeEnd}\n        data-flume-component=\"comment-resize-handle\"\n      />\n      {menuOpen ? (\n        <Portal>\n          <ContextMenu\n            hideFilter\n            label=\"Comment Options\"\n            x={menuCoordinates.x}\n            y={menuCoordinates.y}\n            options={[\n              {\n                value: \"edit\",\n                label: \"Edit Comment\",\n                description: \"Edit the text of the comment\"\n              },\n              {\n                value: \"color\",\n                label: \"Change Color\",\n                description: \"Change the color of the comment\"\n              },\n              {\n                value: \"delete\",\n                label: \"Delete Comment\",\n                description: \"Delete the comment\"\n              }\n            ]}\n            onRequestClose={closeContextMenu}\n            onOptionSelected={handleMenuOption}\n          />\n        </Portal>\n      ) : null}\n      {isPickingColor ? (\n        <Portal>\n          <ColorPicker\n            x={colorPickerCoordinates.x}\n            y={colorPickerCoordinates.y}\n            onRequestClose={() => setIsPickingColor(false)}\n            onColorPicked={handleColorPicked}\n          />\n        </Portal>\n      ) : null}\n    </Draggable>\n  );\n};\n","import React from \"react\";\nimport styles from \"./Toaster.css\";\n\nexport default ({ toasts = [], dispatchToasts }) => {\n  const setHeight = React.useCallback(\n    (id, height) => {\n      dispatchToasts({\n        type: \"SET_HEIGHT\",\n        id,\n        height\n      });\n    },\n    [dispatchToasts]\n  );\n\n  const startExit = React.useCallback(\n    id => {\n      dispatchToasts({\n        type: \"SET_EXITING\",\n        id\n      });\n    },\n    [dispatchToasts]\n  );\n\n  const removeToast = React.useCallback(\n    id => {\n      dispatchToasts({\n        type: \"REMOVE_TOAST\",\n        id\n      });\n    },\n    [dispatchToasts]\n  );\n\n  return (\n    <div className={styles.toaster}>\n      {toasts.map((toast, i) => {\n        return (\n          <Toast\n            {...toast}\n            onHeightReceived={setHeight}\n            onExitRequested={startExit}\n            onRemoveRequested={removeToast}\n            y={toasts.slice(0, i + 1).reduce((y, t) => t.height + y + 5, 0)}\n            key={toast.id}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nconst Toast = ({\n  id,\n  title,\n  message,\n  duration,\n  type,\n  exiting,\n  y,\n  onHeightReceived,\n  onExitRequested,\n  onRemoveRequested\n}) => {\n  const [paused, setPaused] = React.useState(false);\n  const wrapper = React.useRef();\n  const timer = React.useRef();\n\n  const stopTimer = React.useCallback(() => {\n    setPaused(true);\n    clearTimeout(timer.current);\n  }, []);\n\n  const resumeTimer = React.useCallback(() => {\n    setPaused(false);\n    timer.current = setTimeout(() => onExitRequested(id), duration);\n  }, [id, duration, onExitRequested]);\n\n  React.useLayoutEffect(() => {\n    const { height } = wrapper.current.getBoundingClientRect();\n    onHeightReceived(id, height);\n  }, [onHeightReceived, id]);\n\n  React.useEffect(() => {\n    resumeTimer();\n    return stopTimer;\n  }, [resumeTimer, stopTimer]);\n\n  const handleAnimationEnd = () => {\n    if (exiting) {\n      onRemoveRequested(id);\n    }\n  };\n\n  return (\n    <div\n      data-flume-component=\"toast\"\n      ref={wrapper}\n      className={styles.toast}\n      data-type={type}\n      style={{ transform: `translateY(-${y}px)` }}\n      data-exiting={exiting}\n      onAnimationEnd={handleAnimationEnd}\n      onMouseEnter={stopTimer}\n      onMouseLeave={resumeTimer}\n      role=\"alert\"\n    >\n      {\n        title ? <span data-flume-component=\"toast-title\" className={styles.title}>{title}</span> : null\n      }\n      <p data-flume-component=\"toast-message\">{message}</p>\n      {!paused && (\n        <div\n          className={styles.timer}\n          style={{ animationDuration: `${duration}ms` }}\n          onAnimationEnd={e => e.stopPropagation()}\n        />\n      )}\n      <button data-flume-component=\"toast-close\" className={styles.exitButton} onClick={() => {\n        stopTimer()\n        onExitRequested(id)\n      }}></button>\n    </div>\n  );\n};\n","import React from 'react'\nimport { CONNECTIONS_ID } from '../../constants'\nimport styles from './Connections.css'\n\nconst Connections = ({ nodes, editorId }) => {\n\n  return (\n    <div className={styles.svgWrapper} id={`${CONNECTIONS_ID}${editorId}`}/>\n  )\n}\n\nexport default Connections\n","export const checkForCircularNodes = (nodes, startNodeId) => {\n  let isCircular = false;\n  const walk = (nodeId, nodeBucket) => {\n    if (nodeBucket.includes(nodeId)) {\n      isCircular = true;\n      return;\n    }\n\n    nodeBucket.push(nodeId);\n\n    const outputs = Object.values(nodes[nodeId].connections.outputs);\n    for (var i = 0; i < outputs.length; i++) {\n      if(isCircular){\n        break;\n      }\n      const outputConnections = outputs[i];\n      for (var k = 0; k < outputConnections.length; k++) {\n        const connectedTo = outputConnections[k]\n        if(connectedTo.nodeId === startNodeId){\n          isCircular = true;\n          break;\n        }else{\n          walk(connectedTo.nodeId, nodeBucket)\n        }\n      }\n    }\n  }\n  walk(startNodeId, [])\n  return isCircular;\n}\n","import {\n  deleteConnection,\n  deleteConnectionsByNodeId\n} from \"./connectionCalculator\";\nimport { checkForCircularNodes } from \"./utilities\";\nimport {nanoid} from \"nanoid/non-secure/index\";\n\nconst addConnection = (nodes, input, output, portTypes) => {\n  const newNodes = {\n    ...nodes,\n    [input.nodeId]: {\n      ...nodes[input.nodeId],\n      connections: {\n        ...nodes[input.nodeId].connections,\n        inputs: {\n          ...nodes[input.nodeId].connections.inputs,\n          [input.portName]: [\n            ...(nodes[input.nodeId].connections.inputs[input.portName] || []),\n            {\n              nodeId: output.nodeId,\n              portName: output.portName,\n              portType: output.portType\n            }\n          ]\n        }\n      }\n    },\n    [output.nodeId]: {\n      ...nodes[output.nodeId],\n      connections: {\n        ...nodes[output.nodeId].connections,\n        outputs: {\n          ...nodes[output.nodeId].connections.outputs,\n          [output.portName]: [\n            ...(nodes[output.nodeId].connections.outputs[output.portName] ||\n              []),\n            {\n              nodeId: input.nodeId,\n              portName: input.portName,\n              portType: input.portType\n            }\n          ]\n        }\n      }\n    }\n  };\n  return newNodes;\n};\n\nconst removeConnection = (nodes, input, output) => {\n  const inputNode = nodes[input.nodeId];\n  const {\n    [input.portName]: removedInputPort,\n    ...newInputNodeConnectionsInputs\n  } = inputNode.connections.inputs;\n  const newInputNode = {\n    ...inputNode,\n    connections: {\n      ...inputNode.connections,\n      inputs: newInputNodeConnectionsInputs\n    }\n  };\n\n  const outputNode = nodes[output.nodeId];\n  const filteredOutputNodes = outputNode.connections.outputs[\n    output.portName\n  ].filter(cnx => {\n    return cnx.nodeId === input.nodeId ? cnx.portName !== input.portName : true;\n  });\n  const newOutputNode = {\n    ...outputNode,\n    connections: {\n      ...outputNode.connections,\n      outputs: {\n        ...outputNode.connections.outputs,\n        [output.portName]: filteredOutputNodes\n      }\n    }\n  };\n\n  return {\n    ...nodes,\n    [input.nodeId]: newInputNode,\n    [output.nodeId]: newOutputNode\n  };\n};\n\nconst getFilteredTransputs = (transputs, nodeId) =>\n  Object.entries(transputs).reduce((obj, [portName, transput]) => {\n    const newTransputs = transput.filter(t => t.nodeId !== nodeId);\n    if (newTransputs.length) {\n      obj[portName] = newTransputs;\n    }\n    return obj;\n  }, {});\n\nconst removeConnections = (connections, nodeId) => ({\n  inputs: getFilteredTransputs(connections.inputs, nodeId),\n  outputs: getFilteredTransputs(connections.outputs, nodeId)\n});\n\nconst removeNode = (startNodes, nodeId) => {\n  let { [nodeId]: deletedNode, ...nodes } = startNodes;\n  nodes = Object.values(nodes).reduce((obj, node) => {\n    obj[node.id] = {\n      ...node,\n      connections: removeConnections(node.connections, nodeId)\n    };\n\n    return obj;\n  }, {});\n  deleteConnectionsByNodeId(nodeId);\n  return nodes;\n};\n\nconst reconcileNodes = (initialNodes, nodeTypes, portTypes, context) => {\n  let nodes = { ...initialNodes };\n\n  // Delete extraneous nodes\n  let nodesToDelete = Object.values(nodes)\n    .map(node => (!nodeTypes[node.type] ? node.id : undefined))\n    .filter(x => x);\n\n  nodesToDelete.forEach(nodeId => {\n    nodes = nodesReducer(\n      nodes,\n      {\n        type: \"REMOVE_NODE\",\n        nodeId\n      },\n      { nodeTypes, portTypes, context }\n    );\n  });\n\n  // Reconcile input data for each node\n  let reconciledNodes = Object.values(nodes).reduce((nodesObj, node) => {\n    const nodeType = nodeTypes[node.type];\n    const defaultInputData = getDefaultData({ node, nodeType, portTypes, context });\n    const currentInputData = Object.entries(node.inputData).reduce(\n      (dataObj, [key, data]) => {\n        if (defaultInputData[key] !== undefined) {\n          dataObj[key] = data;\n        }\n        return dataObj;\n      },\n      {}\n    );\n    const newInputData = {\n      ...defaultInputData,\n      ...currentInputData\n    };\n    nodesObj[node.id] = {\n      ...node,\n      inputData: newInputData\n    };\n    return nodesObj;\n  }, {});\n\n  // Reconcile node attributes for each node\n  reconciledNodes = Object.values(reconciledNodes).reduce((nodesObj, node) => {\n    let newNode = { ...node };\n    const nodeType = nodeTypes[node.type];\n    if (nodeType.root !== node.root) {\n      if (nodeType.root && !node.root) {\n        newNode.root = nodeType.root;\n      } else if (!nodeType.root && node.root) {\n        delete newNode.root;\n      }\n    }\n    nodesObj[node.id] = newNode;\n    return nodesObj;\n  }, {});\n\n  return reconciledNodes;\n};\n\nexport const getInitialNodes = (\n  initialNodes = {},\n  defaultNodes = [],\n  nodeTypes,\n  portTypes,\n  context\n) => {\n  const reconciledNodes = reconcileNodes(initialNodes, nodeTypes, portTypes, context);\n\n  return {\n    ...reconciledNodes,\n    ...defaultNodes.reduce((nodes, dNode, i) => {\n      const nodeNotAdded = !Object.values(initialNodes).find(\n        n => n.type === dNode.type\n      );\n      if (nodeNotAdded) {\n        nodes = nodesReducer(\n          nodes,\n          {\n            type: \"ADD_NODE\",\n            id: `default-${i}`,\n            defaultNode: true,\n            x: dNode.x || 0,\n            y: dNode.y || 0,\n            nodeType: dNode.type\n          },\n          { nodeTypes, portTypes, context }\n        );\n      }\n      return nodes;\n    }, {})\n  };\n};\n\nconst getDefaultData = ({ node, nodeType, portTypes, context }) => {\n  const inputs = Array.isArray(nodeType.inputs)\n    ? nodeType.inputs\n    : nodeType.inputs(node.inputData, node.connections, context);\n  return inputs.reduce((obj, input) => {\n    const inputType = portTypes[input.type];\n    obj[input.name || inputType.name] = (\n      input.controls ||\n      inputType.controls ||\n      []\n    ).reduce((obj2, control) => {\n      obj2[control.name] = control.defaultValue;\n      return obj2;\n    }, {});\n    return obj;\n  }, {});\n};\n\nconst nodesReducer = (\n  nodes,\n  action = {},\n  { nodeTypes, portTypes, cache, circularBehavior, context, connectionMode = 'flow' },\n  dispatchToasts\n) => {\n  switch (action.type) {\n    case \"ADD_CONNECTION\": {\n      const { input, output } = action;\n\n      // root     - inputs max 1, outputs unlimited\n      // decision - inputs unlimited, outputs unlimited\n      // flow     - inputs max unlimited, outputs max 1\n\n      const inputIsNotConnected = (connectionMode !== 'root' || input.portName.indexOf('route') !== 0) || (\n                                   nodes[input.nodeId].connections.inputs[input.portName] == null ||\n                                   nodes[input.nodeId].connections.inputs[input.portName].length === 0\n      );\n\n      const outputIsNotConnected = (connectionMode !== 'flow' || output.portName.indexOf('route') !== 0)  || (\n                                   nodes[output.nodeId].connections.outputs[output.portName] == null ||\n                                   nodes[output.nodeId].connections.outputs[output.portName].length === 0\n      );\n      if (inputIsNotConnected && outputIsNotConnected) {\n        const allowCircular = circularBehavior === \"warn\" || circularBehavior === \"allow\"\n        const newNodes = addConnection(nodes, input, output, portTypes);\n        const isCircular = checkForCircularNodes(newNodes, output.nodeId);\n        if (isCircular && !allowCircular) {\n          dispatchToasts({\n            type: \"ADD_TOAST\",\n            title: \"Unable to connect\",\n            message: \"Connecting these nodes would result in an infinite loop.\",\n            toastType: \"warning\",\n            duration: 5000\n          });\n          return nodes;\n        } else {\n          if(isCircular && circularBehavior === \"warn\"){\n            dispatchToasts({\n              type: \"ADD_TOAST\",\n              title: \"Circular Connection Detected\",\n              message: \"Connecting these nodes has created an infinite loop.\",\n              toastType: \"warning\",\n              duration: 5000\n            });\n          }\n          return newNodes;\n        }\n      } else return nodes;\n    }\n\n    case \"REMOVE_CONNECTION\": {\n      const { input, output } = action;\n      const id =\n        output.nodeId + output.portName + input.nodeId + input.portName;\n      delete cache.current.connections[id];\n      deleteConnection({ id });\n      return removeConnection(nodes, input, output);\n    }\n\n    case \"DESTROY_TRANSPUT\": {\n      const { transput, transputType } = action;\n      const portId = transput.nodeId + transput.portName + transputType;\n      delete cache.current.ports[portId];\n\n      const cnxType = transputType === 'input' ? 'inputs' : 'outputs';\n      const connections = nodes[transput.nodeId].connections[cnxType][transput.portName];\n      if (!connections || !connections.length) return nodes;\n\n      return connections.reduce((nodes, cnx) => {\n        const [input, output] = transputType === 'input' ? [transput, cnx] : [cnx, transput];\n        const id = output.nodeId + output.portName + input.nodeId + input.portName;\n        delete cache.current.connections[id];\n        deleteConnection({ id });\n        return removeConnection(nodes, input, output);\n      }, nodes);\n    }\n\n    case \"ADD_NODE\": {\n      const { x, y, nodeType, id, defaultNode } = action;\n      const newNodeId = id || nanoid(10);\n      const newNode = {\n        id: newNodeId,\n        x,\n        y,\n        type: nodeType,\n        width: nodeTypes[nodeType].initialWidth || 200,\n        connections: {\n          inputs: {},\n          outputs: {}\n        },\n        inputData: {}\n      };\n      newNode.inputData = getDefaultData({\n        node: newNode,\n        nodeType: nodeTypes[nodeType],\n        portTypes,\n        context\n      });\n      if (defaultNode) {\n        newNode.defaultNode = true;\n      }\n      if (nodeTypes[nodeType].root) {\n        newNode.root = true;\n      }\n      return {\n        ...nodes,\n        [newNodeId]: newNode\n      };\n    }\n\n    case \"REMOVE_NODE\": {\n      const { nodeId } = action;\n      return removeNode(nodes, nodeId);\n    }\n\n    case \"SET_NODES\": {\n      const newNodes = { ...action.nodes };\n      nodesReducer(newNodes, { type: \"HYDRATE_DEFAULT_NODES\", nodes: newNodes }, { nodeTypes, portTypes, cache, circularBehavior, context, connectionMode }, dispatchToasts);\n      return newNodes;\n    }\n\n    case \"HYDRATE_DEFAULT_NODES\": {\n      const newNodes = { ...nodes };\n      for (const key in newNodes) {\n        if (newNodes[key].defaultNode) {\n          const newNodeId = nanoid(10);\n          const { id, defaultNode, ...node } = newNodes[key];\n          newNodes[newNodeId] = {...node, id: newNodeId };\n          delete newNodes[key];\n        }\n      }\n      return newNodes;\n    }\n\n    case \"SET_PORT_DATA\": {\n      const { nodeId, portName, controlName, data, setValue } = action;\n      let newData = {\n        ...nodes[nodeId].inputData,\n        [portName]: {\n          ...nodes[nodeId].inputData[portName],\n          [controlName]: data\n        }\n      };\n      if (setValue) {\n        newData = setValue(newData, nodes[nodeId].inputData);\n      }\n      return {\n        ...nodes,\n        [nodeId]: {\n          ...nodes[nodeId],\n          inputData: newData\n        }\n      };\n    }\n\n    case \"SET_NODE_COORDINATES\": {\n      const { x, y, nodeId } = action;\n      return {\n        ...nodes,\n        [nodeId]: {\n          ...nodes[nodeId],\n          x,\n          y\n        }\n      };\n    }\n\n    default:\n      return nodes;\n  }\n};\n\nexport const connectNodesReducer = (reducer, environment, dispatchToasts) => (\n  state,\n  action\n) => reducer(state, action, environment, dispatchToasts);\n\nexport default nodesReducer;\n","import { nanoid }from \"nanoid/non-secure/index\";\n\nconst setComment = (comments, id, merge) => ({\n  ...comments,\n  [id]: {\n    ...comments[id],\n    ...merge\n  }\n});\n\nexport default (comments = {}, action) => {\n  switch (action.type) {\n    case \"ADD_COMMENT\": {\n      const comment = {\n        id: nanoid(10),\n        text: \"\",\n        x: action.x,\n        y: action.y,\n        width: 200,\n        height: 30,\n        color: \"blue\",\n        isNew: true\n      };\n      return {\n        ...comments,\n        [comment.id]: comment\n      };\n    }\n    case \"SET_COMMENTS\": {\n      return action.comments;\n    }\n    case \"REMOVE_COMMENT_NEW\":\n      const { isNew: toDelete, ...comment } = comments[action.id];\n      return {\n        ...comments,\n        [action.id]: comment\n      };\n    case \"SET_COMMENT_COORDINATES\": {\n      return setComment(comments, action.id, { x: action.x, y: action.y });\n    }\n    case \"SET_COMMENT_DIMENSIONS\": {\n      return setComment(comments, action.id, {\n        width: action.width,\n        height: action.height\n      });\n    }\n    case \"SET_COMMENT_TEXT\": {\n      return setComment(comments, action.id, { text: action.text });\n    }\n    case \"SET_COMMENT_COLOR\": {\n      return setComment(comments, action.id, { color: action.color });\n    }\n    case \"DELETE_COMMENT\": {\n      const { [action.id]: toDelete, ...newComments } = comments;\n      return newComments;\n    }\n    default:\n      return comments;\n  }\n};\n","import { nanoid }from \"nanoid/non-secure/index\";\n\nexport default (toasts = [], action) => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return [\n        {\n          id: nanoid(5),\n          title: action.title,\n          message: action.message,\n          type: action.toastType || 'info',\n          duration: action.duration || 10000,\n          height: 0,\n          exiting: false\n        },\n        ...toasts\n      ];\n    case \"SET_HEIGHT\": {\n      const index = toasts.findIndex(t => t.id === action.id);\n      return [\n        ...toasts.slice(0, index),\n        {\n          ...toasts[index],\n          height: action.height\n        },\n        ...toasts.slice(index + 1)\n      ];\n    }\n    case \"SET_EXITING\": {\n      const index = toasts.findIndex(t => t.id === action.id);\n      return [\n        ...toasts.slice(0, index),\n        {\n          ...toasts[index],\n          exiting: true\n        },\n        ...toasts.slice(index + 1)\n      ];\n    }\n    case \"REMOVE_TOAST\": {\n      const index = toasts.findIndex(t => t.id === action.id);\n      return [\n        ...toasts.slice(0, index),\n        ...toasts.slice(index + 1)\n      ];\n    }\n    default:\n      return toasts;\n  }\n};\n","export default (state, incomingAction) => {\n  let action = typeof incomingAction === 'function' ? incomingAction(state) : incomingAction;\n  switch (action.type) {\n    case 'SET_SCALE':\n      return { ...state, scale: action.scale }\n    case 'SET_TRANSLATE':\n      return { ...state, translate: action.translate }\n    case 'SET_TRANSLATE_SCALE':\n      return { ...state, translate: action.translate, scale: action.scale }\n    default:\n      return state;\n  }\n}\n","class Cache{\n  constructor(){\n    this.ports = {};\n    this.connections = {};\n  }\n}\nexport default Cache\n","class LoopError extends Error {\n  constructor(message, code) {\n    super(message);\n    this.code = code;\n  }\n  static maxLoopsExceeded = 1;\n}\n\nexport class RootEngine {\n  constructor(config, resolveInputControls, fireNodeFunction) {\n    this.config = config;\n    this.fireNodeFunction = fireNodeFunction;\n    this.resolveInputControls = resolveInputControls;\n    this.loops = 0;\n    this.maxLoops = 1000;\n  }\n  resetLoops = maxLoops => {\n    this.maxLoops = maxLoops !== undefined ? maxLoops : 1000;\n    this.loops = 0;\n  };\n  checkLoops = () => {\n    if (this.maxLoops >= 0 && this.loops > this.maxLoops) {\n      throw new LoopError(\n        \"Max loop count exceeded.\",\n        LoopError.maxLoopsExceeded\n      );\n    } else {\n      this.loops++;\n    }\n  };\n  getRootNode = nodes => {\n    const roots = Object.values(nodes).filter(n => n.root);\n    if (roots.length > 1) {\n      throw new Error(\n        \"The root engine must not be called with more than one root node.\"\n      );\n    }\n    return roots[0];\n  };\n  reduceRootInputs = (inputs, callback) =>\n    Object.entries(inputs).reduce((obj, [inputName, connection]) => {\n      const input = callback(inputName, connection);\n      obj[input.name] = input.value;\n      return obj;\n    }, {});\n  resolveInputValues = (node, nodeType, nodes, context) => {\n    let inputs = nodeType.inputs\n    if (typeof inputs === 'function') {\n      inputs = inputs(node.inputData, node.connections, context)\n    }\n    return inputs.reduce((obj, input) => {\n      const inputConnections = node.connections.inputs[input.name] || [];\n      if (inputConnections.length > 0) {\n        obj[input.name] = this.getValueOfConnection(\n          inputConnections[0],\n          nodes,\n          context\n        );\n      } else {\n        obj[input.name] = this.resolveInputControls(\n          input.type,\n          node.inputData[input.name] || {},\n          context\n        );\n      }\n      return obj;\n    }, {});\n  };\n  getValueOfConnection = (connection, nodes, context) => {\n    this.checkLoops();\n    const outputNode = nodes[connection.nodeId];\n    const outputNodeType = this.config.nodeTypes[outputNode.type];\n    const inputValues = this.resolveInputValues(\n      outputNode,\n      outputNodeType,\n      nodes,\n      context\n    );\n    const outputResult = this.fireNodeFunction(\n      outputNode,\n      inputValues,\n      outputNodeType,\n      context\n    )[connection.portName];\n    return outputResult;\n  };\n  resolveRootNode(nodes, options = {}) {\n    const rootNode = options.rootNodeId\n      ? nodes[options.rootNodeId]\n      : this.getRootNode(nodes);\n    if (rootNode) {\n      let inputs = this.config.nodeTypes[rootNode.type].inputs;\n      if (typeof inputs === 'function') {\n        inputs = inputs(rootNode.inputData, rootNode.connections, options.context);\n      }\n      const controlValues = inputs.reduce(\n        (obj, input) => {\n          obj[input.name] = this.resolveInputControls(\n            input.type,\n            rootNode.inputData[input.name] || {},\n            options.context\n          );\n          return obj;\n        },\n        {}\n      );\n      const inputValues = this.reduceRootInputs(\n        rootNode.connections.inputs,\n        (inputName, connection) => {\n          this.resetLoops(options.maxLoops);\n          let value;\n          try {\n            value = this.getValueOfConnection(\n              connection[0],\n              nodes,\n              options.context\n            );\n          } catch (e) {\n            if (e.code === LoopError.maxLoopsExceeded) {\n              console.error(`${e.message} Circular nodes detected in ${inputName} port.`);\n            } else {\n              console.error(e)\n            }\n          } finally {\n            return {\n              name: inputName,\n              value\n            };\n          }\n        }\n      );\n      if (options.onlyResolveConnected) {\n        return inputValues;\n      } else {\n        return { ...controlValues, ...inputValues };\n      }\n    } else {\n      console.error(\n        \"A root node was not found. The Root Engine requires that exactly one node be marked as the root node.\"\n      );\n      return {};\n    }\n  }\n}\n","export default (() => {\n  if (!global || !global._babelPolyfill) {\n    require('babel-polyfill')\n  }\n})()\n","export class LocalStorage {\n  constructor() {\n    this.storage = {};\n  }\n  async setItem(key, value) {\n    this.storage[key] = JSON.stringify(value);\n  }\n  async getItem(key) {\n    return this.storage[key] ? JSON.parse(this.storage[key]) : null;\n  }\n  async removeItem(key) {\n    delete this.storage[key];\n  }\n}\n","export class LoopError extends Error {\n  constructor(message, code) {\n    super(message);\n    this.code = code;\n  }\n  static maxLoopsExceeded = 1;\n}\n","import './require-babel-polyfill' // for async shenanigans to work with babel\nimport { LocalStorage } from './LocalStorage';\nimport { LoopError } from './LoopError';\n\nconst isPromise = (p) => typeof p == 'object' && typeof p.then == 'function'\n\nexport class WorkflowEngine {\n  constructor(config, resolveInputControls, fireNodeFunction, executeActivity, key, storage) {\n    if (!storage) {\n      storage = new LocalStorage();\n    }\n\n    this.key = key;\n    this.storage = storage;\n    this.config = config;\n    this.fireNodeFunction = fireNodeFunction;\n    this.resolveInputControls = resolveInputControls;\n    this.executeActivity = executeActivity;\n    this.loops = 0;\n    this.maxLoops = 1000;\n  }\n  resetLoops = maxLoops => {\n    this.maxLoops = maxLoops !== undefined ? maxLoops : 1000;\n    this.loops = 0;\n  };\n  checkLoops = () => {\n    if (this.maxLoops >= 0 && this.loops > this.maxLoops) {\n      throw new LoopError(\n        \"Max loop count exceeded.\",\n        LoopError.maxLoopsExceeded\n      );\n    } else {\n      this.loops++;\n    }\n  };\n  async getRootNode (nodes) {\n    const roots = Object.values(nodes).filter(n => n.root);\n    if (roots.length > 1) {\n      throw new Error(\n        \"The root engine must not be called with more than one root node.\"\n      );\n    }\n    return roots[0];\n  };\n  async resolveInputValues (node, nodeType, nodes, context, state) {\n    let inputs = nodeType.inputs\n    if (typeof inputs === 'function') {\n      if (state && !state.localVars[node.id]) state.localVars[node.id] = {}\n\n      inputs = inputs(\n          node.inputData,\n          node.connections,\n          {\n            ...context,\n            localVars: state.localVars[node.id],\n            globalVars: state.globalVars,\n            tags: state && state.tags ? [ ...state.tags] : []\n          }\n      )\n    }\n\n    const obj = {}\n    const notRoutedFlowNodeRoutes = node.connections.inputs && node.connections.inputs.route\n      ? node.connections.inputs.route.filter(r => !state.previousNode || r.nodeId !== state.previousNode.id).map(r => r.nodeId)\n      : []\n    for(const input of inputs) {\n      const inputConnections = (node.connections.inputs[input.name] || []).filter(r => !notRoutedFlowNodeRoutes.includes(r.nodeId));\n      if (inputConnections.length > 0) {\n        const connection = inputConnections[0]\n        obj[input.name] = await this.getValueOfConnection(\n          connection,\n          nodes,\n          context,\n          state\n        );\n      } else {\n        const controlValues = this.resolveInputControls(\n          input.type,\n          node.inputData[input.name] || {},\n          context\n        )\n        obj[input.name] = isPromise(controlValues) ? await controlValues : controlValues;\n      }\n    }\n    return obj;\n  };\n  async getValueOfConnection (connection, nodes, context, state) {\n    this.checkLoops();\n    const outputNode = nodes[connection.nodeId];\n    const outputNodeType = this.config.nodeTypes[outputNode.type];\n    const inputValues = await this.resolveInputValues(\n      outputNode,\n      outputNodeType,\n      nodes,\n      context,\n      state\n    );\n\n    if (state && !state.localVars[outputNode.id]) state.localVars[outputNode.id] = {}\n\n    const outputValue = this.fireNodeFunction(\n      outputNode,\n      inputValues,\n      outputNodeType,\n      {\n        ...context,\n        localVars: state.localVars[outputNode.id],\n        globalVars: state.globalVars,\n        tags: state && state.tags ? [ ...state.tags] : []\n      }\n    );\n\n    this.resetLoops();\n\n    const outputResult = isPromise(outputValue) ? (await outputValue)[connection.portName] : outputValue[connection.portName];\n    return outputResult;\n  };\n\n  async iterateNodes(state, node, nodes, options = {}) {\n    let currentNode = node\n    while (currentNode) {\n      let outputs = currentNode.connections.outputs;\n      const currentNodeType = this.config.nodeTypes[currentNode.type];\n\n      const inputValues = await this.resolveInputValues(\n        currentNode,\n        currentNodeType,\n        nodes,\n        options.context,\n        state\n      );\n\n      if (state && !state.localVars[currentNode.id]) state.localVars[currentNode.id] = {}\n\n      let pauseCalled = false;\n      let execRet = this.executeActivity(\n        currentNode,\n        inputValues,\n        currentNodeType,\n        {\n          context: options.context,\n          localVars: state.localVars[currentNode.id],\n          globalVars: state.globalVars,\n          tags: state && state.tags ? [ ...state.tags] : [],\n        },\n        Object.keys(outputs),\n        {\n          pause: (returnVariable) => { this.pause(state, returnVariable); pauseCalled = true; },\n          resume: (returnValue) => this.resume(returnValue, nodes, options),\n          addTag: (tag) => state.tags.push(tag),\n          removeTag: (tag) => state.tags = state.tags.filter(t => t !== tag),\n          hasTag: (tag) => state.tags.includes(tag),\n        }\n      )\n      if (isPromise(execRet)) {\n        execRet = await execRet\n      }\n\n      if (pauseCalled) {\n        return state\n      }\n\n      if (typeof outputs === 'function') {\n        outputs = outputs(\n          currentNode.outputData,\n          currentNode.connections,\n          {\n          ...options.context,\n          localVars: state.localVars[currentNode.id],\n          globalVars: state.globalVars,\n          tags: state && state.tags ? [ ...state.tags] : []\n        });\n      }\n      const selectedRoute = execRet && execRet.route ? execRet.route : 'route'\n      if (outputs[selectedRoute] && outputs[selectedRoute].length == 1) {\n        const connection = outputs[selectedRoute][0];\n\n        const outputNode = nodes[connection.nodeId];\n        state.previousNode = state.currentNode\n        state.currentNode = { id: outputNode.id, type: outputNode.type }\n        if (state && state.localVars && state.localVars[outputNode.id])\n          state.localVars[outputNode.id] = {}\n\n        currentNode = outputNode;\n      } else {\n        currentNode = null;\n      }\n    }\n    return null\n  }\n\n  async play(nodes, options = {}) {\n    const state = await this.storage.getItem(this.key)\n    const newRun = state == null\n\n    const currentState = newRun\n      ? { key: this.key, state: 'running', localVars: {}, globalVars: {}, previousNode: null, currentNode: null, tags: [] }\n      : state\n\n    const rootNode = options.rootNodeId\n    ? nodes[options.rootNodeId]\n    : await this.getRootNode(nodes);\n\n    const currentNode = newRun ? rootNode : nodes[state.currentNode.id]\n    if (!currentNode) {\n      console.error(\n        \"The current node was not found. If you are starting a new flow, make sure you have exactly one node marked as the root node.\"\n      );\n      return {};\n    }\n\n    if (!currentState.localVars)  currentState.localVars = {}\n    if (!currentState.localVars[currentNode.id])  currentState.localVars[currentNode.id] = {}\n\n    if (currentState.state === 'paused') {\n      currentState.state = 'running'\n\n      currentState.localVars[currentNode.id][currentState.returnVariable] = options.returnValue\n    } else {\n      currentState.localVars[currentNode.id][currentState.returnVariable] = null\n    }\n\n    currentState.currentNode = { id: currentNode.id, type: currentNode.type }\n    const newState = await this.iterateNodes(currentState, currentNode, nodes, options)\n    if (!newState) {\n      await this.storage.removeItem(this.key)\n    }\n    return newState\n  };\n\n  async start(nodes, options = {}) {\n    if ((await this.storage.getItem(this.key)) != null) {\n      console.error('Already started')\n      return\n    }\n    const currentState = { key: this.key, state: 'running', localVars: {}, globalVars: {}, previousNode: null, currentNode: null, tags: [] }\n\n    const rootNode = options.rootNodeId\n    ? nodes[options.rootNodeId]\n    : await this.getRootNode(nodes);\n\n    if (!rootNode) {\n      console.error(\n        \"A root node was not found. The Workflow Engine requires that exactly one node be marked as the root node.\"\n      );\n      return {};\n    }\n\n    currentState.currentNode = { id: rootNode.id, type: rootNode.type }\n    const state = await this.iterateNodes(currentState, rootNode, nodes, options)\n    if (!state) {\n      await this.storage.removeItem(this.key)\n    }\n    return state\n  };\n\n  async pause(state, returnVariable) {\n    if (state == null) {\n      console.error('Not started')\n      return null\n    }\n\n    state.state = 'paused'\n    state.returnVariable = returnVariable\n    await this.storage.setItem(this.key, state)\n\n    return true\n  };\n\n  async stop() {\n    await this.storage.removeItem(this.key)\n  }\n\n  async resume(returnValue, nodes, options = {}) {\n    const state = await this.storage.getItem(this.key)\n    if (!state) {\n      console.error('No state to resume')\n      return null\n    }\n\n    if (state.state !== 'paused') {\n      console.error('Not paused')\n      return null\n    }\n\n    state.state = 'running'\n\n    const node = nodes[state.currentNode.id]\n\n    if (!state.localVars)  state.localVars = {}\n    if (!state.localVars[node.id])  state.localVars[node.id] = {}\n\n    state.localVars[node.id][state.returnVariable] = returnValue\n\n    const state1 = await this.iterateNodes(state, node, nodes, options)\n    if (!state1) {\n      await this.storage.removeItem(this.key)\n    }\n    return state\n  };\n}\n","import React from \"react\";\nimport { useId } from \"@reach/auto-id\";\nimport Stage from \"./components/Stage/Stage\";\nimport Node from \"./components/Node/Node\";\nimport Comment from \"./components/Comment/Comment\";\nimport Toaster from \"./components/Toaster/Toaster\";\nimport Connections from \"./components/Connections/Connections\";\nimport {\n  NodeTypesContext,\n  PortTypesContext,\n  NodeDispatchContext,\n  ConnectionRecalculateContext,\n  RecalculateStageRectContext,\n  ContextContext,\n  StageContext,\n  CacheContext,\n  EditorIdContext\n} from \"./context\";\nimport { createConnections } from \"./connectionCalculator\";\nimport nodesReducer, {\n  connectNodesReducer,\n  getInitialNodes\n} from \"./nodesReducer\";\nimport commentsReducer from \"./commentsReducer\";\nimport toastsReducer from \"./toastsReducer\";\nimport stageReducer from \"./stageReducer\";\nimport usePrevious from \"./hooks/usePrevious\";\nimport clamp from \"lodash/clamp\";\nimport Cache from \"./Cache\";\nimport { STAGE_ID, DRAG_CONNECTION_ID } from \"./constants\";\nimport styles from \"./styles.css\";\n\nconst defaultContext = {};\n\nexport let NodeEditor = (\n  {\n    comments: initialComments,\n    nodes: initialNodes,\n    nodeTypes = {},\n    portTypes = {},\n    defaultNodes = [],\n    context = defaultContext,\n    onChange,\n    onCommentsChange,\n    initialScale,\n    initialTranslate,\n    spaceToPan = false,\n    hideComments = false,\n    disableComments = false,\n    disableZoom = false,\n    disablePan = false,\n    circularBehavior,\n    renderNodeHeader,\n    debug\n  },\n  ref\n) => {\n  const editorId = useId();\n  const cache = React.useRef(new Cache());\n  const stage = React.useRef();\n  const [sideEffectToasts, setSideEffectToasts] = React.useState()\n  const [toasts, dispatchToasts] = React.useReducer(toastsReducer, []);\n  const [nodes, dispatchNodes] = React.useReducer(\n    connectNodesReducer(\n      nodesReducer,\n      { nodeTypes, portTypes, cache, circularBehavior, context },\n      setSideEffectToasts\n    ),\n    {},\n    () => getInitialNodes(initialNodes, defaultNodes, nodeTypes, portTypes, context)\n  );\n  const [comments, dispatchComments] = React.useReducer(\n    commentsReducer,\n    initialComments || {}\n  );\n  React.useEffect(() => {\n    dispatchNodes({ type: \"HYDRATE_DEFAULT_NODES\" });\n  }, []);\n  const [\n    shouldRecalculateConnections,\n    setShouldRecalculateConnections\n  ] = React.useState(true);\n  const [stageState, dispatchStageState] = React.useReducer(stageReducer, {\n    scale: typeof initialScale === \"number\" ? clamp(initialScale, 0.1, 7) : 1,\n    translate: { x: initialTranslate?initialTranslate.x : 0, y: initialTranslate? initialTranslate.y : 0 }\n  });\n\n  const recalculateConnections = React.useCallback(() => {\n    createConnections(nodes, stageState, editorId);\n  }, [nodes, editorId, stageState]);\n\n  const recalculateStageRect = () => {\n    stage.current = document\n      .getElementById(`${STAGE_ID}${editorId}`)\n      .getBoundingClientRect();\n  };\n\n  React.useLayoutEffect(() => {\n    if (shouldRecalculateConnections) {\n      recalculateConnections();\n      setShouldRecalculateConnections(false);\n    }\n  }, [shouldRecalculateConnections, recalculateConnections]);\n\n  const triggerRecalculation = () => {\n    setShouldRecalculateConnections(true);\n  };\n\n  React.useImperativeHandle(ref, () => ({\n    getNodes: () => {\n      return nodes;\n    },\n    getComments: () => {\n      return comments;\n    },\n    getStageState: () => {\n      return stageState;\n    },\n    setNodes: newNodes => {\n      dispatchNodes({ type: \"SET_NODES\", nodes: newNodes });\n      triggerRecalculation();\n    },\n    setComments: newComments => {\n      dispatchComments({ type: \"SET_COMMENTS\", comments: newComments });\n    },\n    setStageState: newStageState => {\n      dispatchStageState({ type: \"SET_TRANSLATE_SCALE\", scale: newStageState.scale, translate: newStageState.translate });\n    }\n  }));\n\n  const previousNodes = usePrevious(nodes);\n\n  React.useEffect(() => {\n    if (previousNodes && onChange && nodes !== previousNodes) {\n      onChange(nodes);\n    }\n  }, [nodes, previousNodes, onChange]);\n\n  const previousComments = usePrevious(comments);\n\n  React.useEffect(() => {\n    if (previousComments && onCommentsChange && comments !== previousComments) {\n      onCommentsChange(comments);\n    }\n  }, [comments, previousComments, onCommentsChange]);\n\n  React.useEffect(() => {\n    if(sideEffectToasts){\n      dispatchToasts(sideEffectToasts)\n      setSideEffectToasts(null)\n    }\n  }, [sideEffectToasts])\n\n  return (\n    <PortTypesContext.Provider value={portTypes}>\n      <NodeTypesContext.Provider value={nodeTypes}>\n        <NodeDispatchContext.Provider value={dispatchNodes}>\n          <ConnectionRecalculateContext.Provider value={triggerRecalculation}>\n            <ContextContext.Provider value={context}>\n              <StageContext.Provider value={stageState}>\n                <CacheContext.Provider value={cache}>\n                  <EditorIdContext.Provider value={editorId}>\n                    <RecalculateStageRectContext.Provider\n                      value={recalculateStageRect}\n                    >\n                      <Stage\n                        editorId={editorId}\n                        scale={stageState.scale}\n                        translate={stageState.translate}\n                        spaceToPan={spaceToPan}\n                        disablePan={disablePan}\n                        disableZoom={disableZoom}\n                        dispatchStageState={dispatchStageState}\n                        dispatchComments={dispatchComments}\n                        disableComments={disableComments || hideComments}\n                        stageRef={stage}\n                        numNodes={Object.keys(nodes).length}\n                        outerStageChildren={\n                          <React.Fragment>\n                            {debug && (\n                              <div className={styles.debugWrapper}>\n                                <button\n                                  className={styles.debugButton}\n                                  onClick={() => console.log(nodes)}\n                                >\n                                  Log Nodes\n                                </button>\n                                <button\n                                  className={styles.debugButton}\n                                  onClick={() =>\n                                    console.log(JSON.stringify(nodes))\n                                  }\n                                >\n                                  Export Nodes\n                                </button>\n                                <button\n                                  className={styles.debugButton}\n                                  onClick={() => console.log(comments)}\n                                >\n                                  Log Comments\n                                </button>\n                              </div>\n                            )}\n                            <Toaster\n                              toasts={toasts}\n                              dispatchToasts={dispatchToasts}\n                            />\n                          </React.Fragment>\n                        }\n                      >\n                        {!hideComments &&\n                          Object.values(comments).map(comment => (\n                            <Comment\n                              {...comment}\n                              stageRect={stage}\n                              dispatch={dispatchComments}\n                              onDragStart={recalculateStageRect}\n                              key={comment.id}\n                            />\n                          ))}\n                        {Object.values(nodes).map(node => (\n                          <Node\n                            {...node}\n                            stageRect={stage}\n                            onDragEnd={triggerRecalculation}\n                            onDragStart={recalculateStageRect}\n                            renderNodeHeader={renderNodeHeader}\n                            key={node.id}\n                          />\n                        ))}\n                        <Connections nodes={nodes} editorId={editorId} />\n                        <div\n                          className={styles.dragWrapper}\n                          id={`${DRAG_CONNECTION_ID}${editorId}`}\n                        ></div>\n                      </Stage>\n                    </RecalculateStageRectContext.Provider>\n                  </EditorIdContext.Provider>\n                </CacheContext.Provider>\n              </StageContext.Provider>\n            </ContextContext.Provider>\n          </ConnectionRecalculateContext.Provider>\n        </NodeDispatchContext.Provider>\n      </NodeTypesContext.Provider>\n    </PortTypesContext.Provider>\n  );\n};\nNodeEditor = React.forwardRef(NodeEditor);\nexport { FlumeConfig, Controls, Colors } from \"./typeBuilders\";\nexport { RootEngine } from \"./RootEngine\";\nexport { WorkflowEngine } from \"./WorkflowEngine\";\nexport const useRootEngine = (nodes, engine, context, options = {}) =>\n  Object.keys(nodes).length ? engine.resolveRootNode(nodes, {...options, context }) : {};\n"],"names":["React","useState","useEffect","canUseDOM","_createClass","_classCallCheck","_possibleConstructorReturn","_inherits","Portal","Portalv4","LegacyPortal","trimmedEndIndex","global","freeGlobal","Symbol","root","objectProto","nativeObjectToString","symToStringTag","getRawTag","objectToString","isObjectLike","baseGetTag","isSymbol","isObject","baseTrim","toNumber","baseClamp","ContextMenu","x","y","options","onRequestClose","onOptionSelected","label","hideHeader","hideFilter","emptyText","menuWrapper","useRef","menuOptionsWrapper","filterInput","filter","setFilter","menuWidth","setMenuWidth","selectedIndex","setSelectedIndex","menuId","nanoid","handleOptionSelected","option","testClickOutside","useCallback","current","contains","e","target","removeEventListener","capture","testEscape","keyCode","focus","getBoundingClientRect","width","addEventListener","filteredOptions","useMemo","lowerFilter","toLowerCase","opt","includes","handleFilterChange","value","handleKeyDown","which","preventDefault","i","length","menuOption","document","getElementById","menuRect","optionRect","height","scrollIntoView","block","styles","stopPropagation","menuHeader","menuLabel","menuFilter","optionsWrapper","maxHeight","clamp","window","innerHeight","map","description","ContextOption","index","children","onClick","selected","onMouseEnter","NodeTypesContext","createContext","PortTypesContext","NodeDispatchContext","ConnectionRecalculateContext","ContextContext","StageContext","CacheContext","RecalculateStageRectContext","EditorIdContext","stageState","stageRect","onDragDelayStart","onDragStart","onDrag","onDragEnd","onMouseDown","onTouchStart","disabled","delay","innerRef","rest","startCoordinates","offset","wrapper","byScale","scale","getScaledCoordinates","clientX","left","translate","clientY","top","updateCoordinates","coordinates","stopDrag","startDrag","nodeRect","checkDragDelay","touches","a","Math","abs","b","distance","round","sqrt","pow","dragDistance","endDragDelay","startDragDelay","ref","isArray","isFunction","coreJsData","funcProto","funcToString","hasOwnProperty","isMasked","toSource","getValue","baseIsNative","getNative","nativeCreate","HASH_UNDEFINED","hashClear","hashDelete","hashGet","hashHas","hashSet","eq","assocIndexOf","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","Hash","Map","ListCache","isKeyable","getMapData","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","memoize","memoizeCapped","arrayMap","baseToString","isKey","stringToPath","toString","INFINITY","castPath","toKey","stackClear","stackDelete","stackGet","stackHas","stackSet","setCacheAdd","setCacheHas","SetCache","arraySome","cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","symbolTag","symbolProto","Uint8Array","mapToArray","setToArray","equalArrays","arrayPush","stubArray","arrayFilter","propertyIsEnumerable","baseIsArguments","stubFalse","MAX_SAFE_INTEGER","argsTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","regexpTag","setTag","stringTag","arrayBufferTag","dataViewTag","isLength","nodeUtil","baseUnary","baseIsTypedArray","isArguments","isBuffer","isTypedArray","baseTimes","isIndex","overArg","isPrototype","nativeKeys","isArrayLike","arrayLikeKeys","baseKeys","baseGetAllKeys","keys","getSymbols","getAllKeys","Promise","objectTag","weakMapTag","DataView","Set","WeakMap","arrayTag","getTag","Stack","equalByTag","equalObjects","baseIsEqualDeep","baseIsEqual","isStrictComparable","getMatchData","matchesStrictComparable","baseIsMatch","get","baseGet","hasPath","baseHasIn","hasIn","baseProperty","basePropertyDeep","identity","baseMatchesProperty","baseMatches","property","createBaseFor","baseFor","createBaseEach","baseForOwn","baseEach","compareAscending","baseIteratee","baseMap","baseSortBy","compareMultiple","baseOrderBy","STAGE_ID","DRAG_CONNECTION_ID","CONNECTIONS_ID","Stage","editorId","dispatchStageState","outerStageChildren","numNodes","stageRef","spaceToPan","dispatchComments","disableComments","disablePan","disableZoom","nodeTypes","useContext","dispatchNodes","translateWrapper","menuOpen","setMenuOpen","menuCoordinates","setMenuCoordinates","dragData","spaceIsPressed","setSpaceIsPressed","setStageRect","handleWheel","nodeName","dataset","comment","clientHeight","scrollHeight","currentScale","currentTranslate","delta","deltaY","newScale","byOldScale","no","byNewScale","wrapperRect","xOld","yOld","xNew","yNew","xDistance","yDistance","handleDragDelayStart","handleDragStart","handleMouseDrag","coords","xDelta","yDelta","style","backgroundPosition","transform","handleDragEnd","tran","handleContextMenu","closeContextMenu","addNode","node","internalType","type","handleDocumentKeyUp","activeElement","handleMouseEnter","stageWrapper","menuOptions","orderBy","Object","values","addable","sortIndex","push","cursor","transformWrapper","scaleWrapper","pi","pointX","pointY","point","getPort","nodeId","portName","transputType","querySelector","getPortRect","cache","portCacheName","cachedPort","ports","port","calculateCurve","from","to","thirdLength","curve","line","curveBasis","deleteConnection","id","parentNode","remove","deleteConnectionsByNodeId","lines","querySelectorAll","updateConnection","setAttribute","createSVG","stage","outputNodeId","outputPortName","outputPortType","inputNodeId","inputPortName","svg","createElementNS","path","appendChild","getStageRef","createConnections","nodes","stageId","stageHalfWidth","stageHalfHeight","forEach","connections","inputs","entries","k","inputName","outputs","fromPort","output","toPort","portHalf","existingLine","portType","Checkbox","data","onChange","checkbox","checked","TextInput","placeholder","updateNodeConnections","step","numberInput","textInput","recalculateStageRect","handleMouseMove","handlePossibleResize","elem","inputValue","replace","parseFloat","Number","isNaN","input","MAX_LABEL_LENGTH","isOptionEqualToValueDefault","Select","isOptionEqualToValue","allowMultiple","drawerOpen","setDrawerOpen","drawerCoordinates","setDrawerCoordinates","theOptions","setTheOptions","then","closeDrawer","openDrawer","handleOptionDeleted","slice","optionIndex","getFilteredOptions","selectedOption","find","o","chipsWrapper","val","optLabel","selectStyles","SelectedOption","wrapperRef","selectedWrapper","OptionChip","onRequestDelete","chipWrapper","deleteButton","Control","name","inputLabel","allData","render","inputData","triggerRecalculation","getOptions","setValue","defaultValue","isMonoControl","nodesDispatch","executionContext","calculatedLabel","getControlByType","commonProps","controlLabel","Connection","color","lineRef","usePrevious","useTransputs","transputsFn","transputs","Array","prevTransputs","transput","IoPorts","inputTypes","resolvedInputs","resolvedOutputs","Input","localControls","controls","noControls","isConnected","hidePort","defaultLabel","defaultControls","prevConnected","portLabel","control","Output","Port","isInput","isDragging","setIsDragging","dragStartCoordinates","setDragStartCoordinates","dragStartCoordinatesCache","lineInToPort","handleDrag","droppedOnPort","inputPortType","connectToPortName","connectToNodeId","connectToPortType","connectToTransputType","portTransputType","isNotSameNode","inputWillAcceptConnection","acceptTypes","inputNodeType","inputTransputType","startPort","portIsConnected","zIndex","outputPort","Node","renderNodeHeader","currentNodeType","deletable","nodeWrapper","updateConnectionsByTransput","isOutput","toRect","fromRect","combined","cnx","cachedConnection","deleteNode","handleMenuOption","NodeHeader","className","props","define","undefined","buildControlType","defaultConfig","validate","setup","config","Controls","Colors","getPortBuilders","reduce","obj","FlumeConfig","portTypes","addNodeType","Error","initialWidth","error","deleted","grey","skipDynamicNodesCheck","dynamicNodes","warn","affectedNodes","p","n","join","onColorPicked","ColorButton","onSelected","colorButtonWrapper","colorButton","dispatch","text","isNew","textarea","isEditing","setIsEditing","isPickingColor","setIsPickingColor","colorPickerCoordinates","setColorPickerCoordinates","_","handleResize","handleResizeEnd","startTextEdit","endTextEdit","handleTextChange","handleColorPicked","resizeThumb","toasts","dispatchToasts","setHeight","startExit","removeToast","toaster","toast","t","Toast","title","message","duration","exiting","onHeightReceived","onExitRequested","onRemoveRequested","paused","setPaused","timer","stopTimer","resumeTimer","setTimeout","useLayoutEffect","handleAnimationEnd","animationDuration","exitButton","Connections","svgWrapper","checkForCircularNodes","startNodeId","isCircular","walk","nodeBucket","outputConnections","connectedTo","addConnection","newNodes","removeConnection","inputNode","removedInputPort","newInputNodeConnectionsInputs","newInputNode","outputNode","filteredOutputNodes","newOutputNode","getFilteredTransputs","newTransputs","removeConnections","removeNode","startNodes","deletedNode","reconcileNodes","initialNodes","context","nodesToDelete","nodesReducer","reconciledNodes","nodesObj","nodeType","defaultInputData","getDefaultData","currentInputData","dataObj","key","newInputData","newNode","getInitialNodes","defaultNodes","dNode","nodeNotAdded","inputType","obj2","action","circularBehavior","connectionMode","inputIsNotConnected","indexOf","outputIsNotConnected","allowCircular","portId","cnxType","defaultNode","newNodeId","controlName","newData","connectNodesReducer","reducer","environment","state","setComment","comments","merge","toDelete","newComments","toastType","findIndex","incomingAction","Cache","LoopError","code","maxLoopsExceeded","RootEngine","resolveInputControls","fireNodeFunction","resetLoops","maxLoops","loops","checkLoops","getRootNode","roots","reduceRootInputs","callback","connection","resolveInputValues","inputConnections","getValueOfConnection","outputNodeType","inputValues","outputResult","rootNode","rootNodeId","controlValues","onlyResolveConnected","_babelPolyfill","LocalStorage","storage","JSON","stringify","parse","isPromise","WorkflowEngine","executeActivity","localVars","globalVars","tags","route","previousNode","r","notRoutedFlowNodeRoutes","outputValue","currentNode","returnVariable","pause","pauseCalled","returnValue","resume","tag","execRet","outputData","selectedRoute","getItem","newRun","currentState","iterateNodes","newState","removeItem","setItem","state1","defaultContext","NodeEditor","initialComments","onCommentsChange","initialScale","initialTranslate","hideComments","debug","useId","sideEffectToasts","setSideEffectToasts","useReducer","toastsReducer","commentsReducer","shouldRecalculateConnections","setShouldRecalculateConnections","stageReducer","recalculateConnections","useImperativeHandle","newStageState","previousNodes","previousComments","debugWrapper","debugButton","console","log","dragWrapper","forwardRef","useRootEngine","engine","resolveRootNode"],"mappings":"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"}